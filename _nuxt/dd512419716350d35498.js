/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],Array(144).concat([function(e,t,n){var r=n(168),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();e.exports=c},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(216),o=n(219);e.exports=function(object,e){var t=o(object,e);return r(t)?t:void 0}},function(e,t,n){var r=n(150),o=n(201),c=n(202),l="[object Null]",f="[object Undefined]",d=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?f:l:d&&d in Object(e)?o(e):c(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(147),o=n(148),c="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==c}},function(e,t,n){var r=n(144).Symbol;e.exports=r},function(e,t,n){var r=n(206),o=n(207),c=n(208),l=n(209),f=n(210);function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=o,d.prototype.get=c,d.prototype.has=l,d.prototype.set=f,e.exports=d},function(e,t,n){var r=n(170);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(146)(Object,"create");e.exports=r},function(e,t,n){var r=n(228);e.exports=function(map,e){var data=map.__data__;return r(e)?data["string"==typeof e?"string":"hash"]:data.map}},function(e,t,n){var r=n(149),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(146)(n(144),"Map");e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(220),o=n(227),c=n(229),l=n(230),f=n(231);function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=o,d.prototype.get=c,d.prototype.has=l,d.prototype.set=f,e.exports=d},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(145),o=n(149),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;e.exports=function(e,object){if(r(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!o(e))||l.test(e)||!c.test(e)||null!=object&&e in Object(object)}},function(e,t,n){"use strict";e.exports=function(a,b,e){var t=a*b,n=r*a,o=n-(n-a),c=a-o,l=r*b,f=l-(l-b),d=b-f,v=c*d-(t-o*f-c*f-o*d);if(e)return e[0]=v,e[1]=t,e;return[v,t]};var r=+(Math.pow(2,27)+1)},,,function(e,t,n){"use strict";var strong=n(166),r=n(156);e.exports=n(167)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return strong.def(r(this,"Set"),e=0===e?0:e,e)}},strong)},function(e,t,n){"use strict";var r=n(8).f,o=n(69),c=n(96),l=n(26),f=n(94),d=n(95),v=n(68),y=n(99),h=n(71),m=n(6),x=n(93).fastKey,w=n(156),S=m?"_s":"size",A=function(e,t){var n,r=x(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,v){var y=e(function(e,r){f(e,y,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[S]=0,null!=r&&d(r,n,e[v],e)});return c(y.prototype,{clear:function(){for(var e=w(this,t),data=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete data[n.i];e._f=e._l=void 0,e[S]=0},delete:function(e){var n=w(this,t),r=A(n,e);if(r){var o=r.n,c=r.p;delete n._i[r.i],r.r=!0,c&&(c.n=o),o&&(o.p=c),n._f==r&&(n._f=o),n._l==r&&(n._l=c),n[S]--}return!!r},forEach:function(e){w(this,t);for(var n,r=l(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!A(w(this,t),e)}}),m&&r(y.prototype,"size",{get:function(){return w(this,t)[S]}}),y},def:function(e,t,n){var r,o,c=A(e,t);return c?c.v=n:(e._l=c={i:o=x(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=c),r&&(r.n=c),e[S]++,"F"!==o&&(e._i[o]=c)),e},getEntry:A,setStrong:function(e,t,n){v(e,t,function(e,n){this._t=w(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?y(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,y(1))},n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){"use strict";var r=n(3),o=n(7),c=n(11),l=n(96),meta=n(93),f=n(95),d=n(94),v=n(9),y=n(10),h=n(97),m=n(34),x=n(103);e.exports=function(e,t,n,w,S,A){var _=r[e],C=_,P=S?"set":"add",k=C&&C.prototype,B={},M=function(e){var t=k[e];c(k,e,"delete"==e?function(a){return!(A&&!v(a))&&t.call(this,0===a?0:a)}:"has"==e?function(a){return!(A&&!v(a))&&t.call(this,0===a?0:a)}:"get"==e?function(a){return A&&!v(a)?void 0:t.call(this,0===a?0:a)}:"add"==e?function(a){return t.call(this,0===a?0:a),this}:function(a,b){return t.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(A||k.forEach&&!y(function(){(new C).entries().next()}))){var j=new C,O=j[P](A?{}:-0,1)!=j,I=y(function(){j.has(1)}),E=h(function(e){new C(e)}),T=!A&&y(function(){for(var e=new C,t=5;t--;)e[P](t,t);return!e.has(-0)});E||((C=t(function(t,n){d(t,C,e);var r=x(new _,t,C);return null!=n&&f(n,S,r[P],r),r})).prototype=k,k.constructor=C),(I||T)&&(M("delete"),M("has"),S&&M("get")),(T||O)&&M(P),A&&k.clear&&delete k.clear}else C=w.getConstructor(t,e,S,P),l(C.prototype,n),meta.NEED=!0;return m(C,e),B[e]=C,o(o.G+o.W+o.F*(C!=_),B),A||w.setStrong(C,e,S),C}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(25))},function(e,t,n){var r=n(151),o=n(211),c=n(212),l=n(213),f=n(214),d=n(215);function v(e){var data=this.__data__=new r(e);this.size=data.size}v.prototype.clear=o,v.prototype.delete=c,v.prototype.get=l,v.prototype.has=f,v.prototype.set=d,e.exports=v},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(147),o=n(158),c="[object AsyncFunction]",l="[object Function]",f="[object GeneratorFunction]",d="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==l||t==f||t==c||t==d}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(232),o=n(148);e.exports=function e(t,n,c,l,f){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,c,l,e,f))}},function(e,t,n){var r=n(233),o=n(236),c=n(237),l=1,f=2;e.exports=function(e,t,n,d,v,y){var h=n&l,m=e.length,x=t.length;if(m!=x&&!(h&&x>m))return!1;var w=y.get(e);if(w&&y.get(t))return w==t;var S=-1,A=!0,_=n&f?new r:void 0;for(y.set(e,t),y.set(t,e);++S<m;){var C=e[S],P=t[S];if(d)var k=h?d(P,C,S,t,e,y):d(C,P,S,e,t,y);if(void 0!==k){if(k)continue;A=!1;break}if(_){if(!o(t,function(e,t){if(!c(_,t)&&(C===e||v(C,e,n,d,y)))return _.push(t)})){A=!1;break}}else if(C!==P&&!v(C,P,n,d,y)){A=!1;break}}return y.delete(e),y.delete(t),A}},function(e,t,n){var r=n(249),o=n(256),c=n(260);e.exports=function(object){return c(object)?r(object):o(object)}},function(e,t,n){var r=n(251),o=n(148),c=Object.prototype,l=c.hasOwnProperty,f=c.propertyIsEnumerable,d=r(function(){return arguments}())?r:function(e){return o(e)&&l.call(e,"callee")&&!f.call(e,"callee")};e.exports=d},function(e,t,n){(function(e){var r=n(144),o=n(252),c=t&&!t.nodeType&&t,l=c&&"object"==typeof e&&e&&!e.nodeType&&e,f=l&&l.exports===c?r.Buffer:void 0,d=(f?f.isBuffer:void 0)||o;e.exports=d}).call(this,n(178)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(253),o=n(254),c=n(255),l=c&&c.isTypedArray,f=l?o(l):r;e.exports=f},function(e,t,n){var r=n(158);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(object){return null!=object&&object[e]===t&&(void 0!==t||e in Object(object))}}},function(e,t,n){var r=n(184),o=n(155);e.exports=function(object,path){for(var e=0,t=(path=r(path,object)).length;null!=object&&e<t;)object=object[o(path[e++])];return e&&e==t?object:void 0}},function(e,t,n){var r=n(145),o=n(161),c=n(269),l=n(272);e.exports=function(e,object){return r(e)?e:o(e,object)?[e]:c(l(e))}},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(a,b){var e=a+b,t=e-a,n=a-(e-t)+(b-t);if(n)return[n,e];return[e]}(e[0],t[0]);var a,b,g=new Array(n+r),o=0,c=0,l=0,f=Math.abs,d=e[c],v=f(d),y=t[l],h=f(y);v<h?(b=d,(c+=1)<n&&(d=e[c],v=f(d))):(b=y,(l+=1)<r&&(y=t[l],h=f(y)));c<n&&v<h||l>=r?(a=d,(c+=1)<n&&(d=e[c],v=f(d))):(a=y,(l+=1)<r&&(y=t[l],h=f(y)));var m,x,w=a+b,S=w-a,A=b-S,_=A,C=w;for(;c<n&&l<r;)v<h?(a=d,(c+=1)<n&&(d=e[c],v=f(d))):(a=y,(l+=1)<r&&(y=t[l],h=f(y))),(A=(b=_)-(S=(w=a+b)-a))&&(g[o++]=A),_=C-((m=C+w)-(x=m-C))+(w-x),C=m;for(;c<n;)(A=(b=_)-(S=(w=(a=d)+b)-a))&&(g[o++]=A),_=C-((m=C+w)-(x=m-C))+(w-x),C=m,(c+=1)<n&&(d=e[c]);for(;l<r;)(A=(b=_)-(S=(w=(a=y)+b)-a))&&(g[o++]=A),_=C-((m=C+w)-(x=m-C))+(w-x),C=m,(l+=1)<r&&(y=t[l]);_&&(g[o++]=_);C&&(g[o++]=C);o||(g[o++]=0);return g.length=o,g}},function(e,t,n){"use strict";var r=n(162),o=n(287);e.exports=function(e,t){var n=e.length;if(1===n){var c=r(e[0],t);return c[0]?c:[c[1]]}var g=new Array(2*n),q=[.1,.1],l=[.1,.1],f=0;r(e[0],t,q),q[0]&&(g[f++]=q[0]);for(var i=1;i<n;++i){r(e[i],t,l);var d=q[1];o(d,l[0],q),q[0]&&(g[f++]=q[0]);var a=l[1],b=q[1],v=a+b,y=v-a,h=b-y;q[1]=v,h&&(g[f++]=h)}q[1]&&(g[f++]=q[1]);0===f&&(g[f++]=0);return g.length=f,g}},function(e,t,n){"use strict";e.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,a=e[0],b=e[0],i=1;i<r;++i)if(b=a,t(a=e[i],b)){if(i===n){n++;continue}e[n++]=a}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,a=e[0],b=e[0],i=1;i<n;++i,b=a)if(b=a,(a=e[i])!==b){if(i===t){t++;continue}e[t++]=a}return e.length=t,e}(e))}},function(e,t,n){"use strict";var r=n(26),o=n(7),c=n(27),l=n(100),f=n(101),d=n(17),v=n(189),y=n(102);o(o.S+o.F*!n(97)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,h,m=c(e),x="function"==typeof this?this:Array,w=arguments.length,S=w>1?arguments[1]:void 0,A=void 0!==S,_=0,C=y(m);if(A&&(S=r(S,w>2?arguments[2]:void 0,2)),null==C||x==Array&&f(C))for(n=new x(t=d(m.length));t>_;_++)v(n,_,A?S(m[_],_):m[_]);else for(h=C.call(m),n=new x;!(o=h.next()).done;_++)v(n,_,A?l(h,S,[o.value,_],!0):o.value);return n.length=_,n}})},function(e,t,n){"use strict";var r=n(8),o=n(33);e.exports=function(object,e,t){e in object?r.f(object,e,o(0,t)):object[e]=t}},function(e,t,n){"use strict";var strong=n(166),r=n(156);e.exports=n(167)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=strong.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return strong.def(r(this,"Map"),0===e?0:e,t)}},strong,!0)},function(e,t,n){var r=n(7);r(r.P,"Array",{fill:n(192)}),n(70)("fill")},function(e,t,n){"use strict";var r=n(27),o=n(98),c=n(17);e.exports=function(e){for(var t=r(this),n=c(t.length),l=arguments.length,f=o(l>1?arguments[1]:void 0,n),d=l>2?arguments[2]:void 0,v=void 0===d?n:o(d,n);v>f;)t[f++]=e;return t}},function(e,t,n){(function(t){var n;e.exports=function e(t,r,o){function c(i,l){if(!r[i]){if(!t[i]){var f="function"==typeof n&&n;if(!l&&f)return n(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=r[i]={exports:{}};t[i][0].call(p.exports,function(e){var n=t[i][1][e];return c(n||e)},p,p.exports,e,t,r,o)}return r[i].exports}for(var u="function"==typeof n&&n,i=0;i<o.length;i++)c(o[i]);return c}({1:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),c=e("../geometry/Vector"),l=e("../core/Sleeping"),f=(e("../render/Render"),e("../core/Common")),d=e("../geometry/Bounds"),v=e("../geometry/Axes");!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(t){var n={id:f.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},body=f.extend(n,t);return e(body,t),body},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(body,e){e=e||{},r.set(body,{bounds:body.bounds||d.create(body.vertices),positionPrev:body.positionPrev||c.clone(body.position),anglePrev:body.anglePrev||body.angle,vertices:body.vertices,parts:body.parts||[body],isStatic:body.isStatic,isSleeping:body.isSleeping,parent:body.parent||body}),o.rotate(body.vertices,body.angle,body.position),v.rotate(body.axes,body.angle),d.update(body.bounds,body.vertices,body.velocity),r.set(body,{axes:e.axes||body.axes,area:e.area||body.area,mass:e.mass||body.mass,inertia:e.inertia||body.inertia});var t=body.isStatic?"#2e2b44":f.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);body.render.fillStyle=body.render.fillStyle||t,body.render.strokeStyle=body.render.strokeStyle||"#000",body.render.sprite.xOffset+=-(body.bounds.min.x-body.position.x)/(body.bounds.max.x-body.bounds.min.x),body.render.sprite.yOffset+=-(body.bounds.min.y-body.position.y)/(body.bounds.max.y-body.bounds.min.y)};r.set=function(body,e,t){var n;for(n in"string"==typeof e&&(n=e,(e={})[n]=t),e)if(t=e[n],e.hasOwnProperty(n))switch(n){case"isStatic":r.setStatic(body,t);break;case"isSleeping":l.set(body,t);break;case"mass":r.setMass(body,t);break;case"density":r.setDensity(body,t);break;case"inertia":r.setInertia(body,t);break;case"vertices":r.setVertices(body,t);break;case"position":r.setPosition(body,t);break;case"angle":r.setAngle(body,t);break;case"velocity":r.setVelocity(body,t);break;case"angularVelocity":r.setAngularVelocity(body,t);break;case"parts":r.setParts(body,t);break;default:body[n]=t}},r.setStatic=function(body,e){for(var i=0;i<body.parts.length;i++){var t=body.parts[i];t.isStatic=e,e?(t._original={restitution:t.restitution,friction:t.friction,mass:t.mass,inertia:t.inertia,density:t.density,inverseMass:t.inverseMass,inverseInertia:t.inverseInertia},t.restitution=0,t.friction=1,t.mass=t.inertia=t.density=1/0,t.inverseMass=t.inverseInertia=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.angularVelocity=0,t.speed=0,t.angularSpeed=0,t.motion=0):t._original&&(t.restitution=t._original.restitution,t.friction=t._original.friction,t.mass=t._original.mass,t.inertia=t._original.inertia,t.density=t._original.density,t.inverseMass=t._original.inverseMass,t.inverseInertia=t._original.inverseInertia,delete t._original)}},r.setMass=function(body,e){var t=body.inertia/(body.mass/6);body.inertia=t*(e/6),body.inverseInertia=1/body.inertia,body.mass=e,body.inverseMass=1/body.mass,body.density=body.mass/body.area},r.setDensity=function(body,e){r.setMass(body,e*body.area),body.density=e},r.setInertia=function(body,e){body.inertia=e,body.inverseInertia=1/body.inertia},r.setVertices=function(body,e){e[0].body===body?body.vertices=e:body.vertices=o.create(e,body),body.axes=v.fromVertices(body.vertices),body.area=o.area(body.vertices),r.setMass(body,body.density*body.area);var t=o.centre(body.vertices);o.translate(body.vertices,t,-1),r.setInertia(body,r._inertiaScale*o.inertia(body.vertices,body.mass)),o.translate(body.vertices,body.position),d.update(body.bounds,body.vertices,body.velocity)},r.setParts=function(body,e,t){var i;for(e=e.slice(0),body.parts.length=0,body.parts.push(body),body.parent=body,i=0;i<e.length;i++){var n=e[i];n!==body&&(n.parent=body,body.parts.push(n))}if(1!==body.parts.length){if(t=void 0===t||t){var c=[];for(i=0;i<e.length;i++)c=c.concat(e[i].vertices);o.clockwiseSort(c);var l=o.hull(c),f=o.centre(l);r.setVertices(body,l),o.translate(body.vertices,f)}var d=r._totalProperties(body);body.area=d.area,body.parent=body,body.position.x=d.centre.x,body.position.y=d.centre.y,body.positionPrev.x=d.centre.x,body.positionPrev.y=d.centre.y,r.setMass(body,d.mass),r.setInertia(body,d.inertia),r.setPosition(body,d.centre)}},r.setPosition=function(body,e){var t=c.sub(e,body.position);body.positionPrev.x+=t.x,body.positionPrev.y+=t.y;for(var i=0;i<body.parts.length;i++){var n=body.parts[i];n.position.x+=t.x,n.position.y+=t.y,o.translate(n.vertices,t),d.update(n.bounds,n.vertices,body.velocity)}},r.setAngle=function(body,e){var t=e-body.angle;body.anglePrev+=t;for(var i=0;i<body.parts.length;i++){var n=body.parts[i];n.angle+=t,o.rotate(n.vertices,t,body.position),v.rotate(n.axes,t),d.update(n.bounds,n.vertices,body.velocity),i>0&&c.rotateAbout(n.position,t,body.position,n.position)}},r.setVelocity=function(body,e){body.positionPrev.x=body.position.x-e.x,body.positionPrev.y=body.position.y-e.y,body.velocity.x=e.x,body.velocity.y=e.y,body.speed=c.magnitude(body.velocity)},r.setAngularVelocity=function(body,e){body.anglePrev=body.angle-e,body.angularVelocity=e,body.angularSpeed=Math.abs(body.angularVelocity)},r.translate=function(body,e){r.setPosition(body,c.add(body.position,e))},r.rotate=function(body,e,t){if(t){var n=Math.cos(e),o=Math.sin(e),c=body.position.x-t.x,l=body.position.y-t.y;r.setPosition(body,{x:t.x+(c*n-l*o),y:t.y+(c*o+l*n)}),r.setAngle(body,body.angle+e)}else r.setAngle(body,body.angle+e)},r.scale=function(body,e,t,n){var c=0,l=0;n=n||body.position;for(var i=0;i<body.parts.length;i++){var f=body.parts[i];o.scale(f.vertices,e,t,n),f.axes=v.fromVertices(f.vertices),f.area=o.area(f.vertices),r.setMass(f,body.density*f.area),o.translate(f.vertices,{x:-f.position.x,y:-f.position.y}),r.setInertia(f,r._inertiaScale*o.inertia(f.vertices,f.mass)),o.translate(f.vertices,{x:f.position.x,y:f.position.y}),i>0&&(c+=f.area,l+=f.inertia),f.position.x=n.x+(f.position.x-n.x)*e,f.position.y=n.y+(f.position.y-n.y)*t,d.update(f.bounds,f.vertices,body.velocity)}body.parts.length>1&&(body.area=c,body.isStatic||(r.setMass(body,body.density*c),r.setInertia(body,l))),body.circleRadius&&(e===t?body.circleRadius*=e:body.circleRadius=null)},r.update=function(body,e,t,n){var r=Math.pow(e*t*body.timeScale,2),l=1-body.frictionAir*t*body.timeScale,f=body.position.x-body.positionPrev.x,y=body.position.y-body.positionPrev.y;body.velocity.x=f*l*n+body.force.x/body.mass*r,body.velocity.y=y*l*n+body.force.y/body.mass*r,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.position.x+=body.velocity.x,body.position.y+=body.velocity.y,body.angularVelocity=(body.angle-body.anglePrev)*l*n+body.torque/body.inertia*r,body.anglePrev=body.angle,body.angle+=body.angularVelocity,body.speed=c.magnitude(body.velocity),body.angularSpeed=Math.abs(body.angularVelocity);for(var i=0;i<body.parts.length;i++){var h=body.parts[i];o.translate(h.vertices,body.velocity),i>0&&(h.position.x+=body.velocity.x,h.position.y+=body.velocity.y),0!==body.angularVelocity&&(o.rotate(h.vertices,body.angularVelocity,body.position),v.rotate(h.axes,body.angularVelocity),i>0&&c.rotateAbout(h.position,body.angularVelocity,body.position,h.position)),d.update(h.bounds,h.vertices,body.velocity)}},r.applyForce=function(body,e,t){body.force.x+=t.x,body.force.y+=t.y;var n={x:e.x-body.position.x,y:e.y-body.position.y};body.torque+=n.x*t.y-n.y*t.x},r._totalProperties=function(body){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===body.parts.length?0:1;i<body.parts.length;i++){var t=body.parts[i],n=t.mass!==1/0?t.mass:1;e.mass+=n,e.area+=t.area,e.inertia+=t.inertia,e.centre=c.add(e.centre,c.mult(t.position,n))}return e.centre=c.div(e.centre,e.mass),e}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var r={};t.exports=r;var o=e("../core/Events"),c=e("../core/Common"),l=e("../geometry/Bounds"),f=e("./Body");r.create=function(e){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},r.setModified=function(e,t,n,o){if(e.isModified=t,n&&e.parent&&r.setModified(e.parent,t,n,o),o)for(var i=0;i<e.composites.length;i++){var c=e.composites[i];r.setModified(c,t,n,o)}},r.add=function(e,object){var t=[].concat(object);o.trigger(e,"beforeAdd",{object:object});for(var i=0;i<t.length;i++){var n=t[i];switch(n.type){case"body":if(n.parent!==n){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,n);break;case"constraint":r.addConstraint(e,n);break;case"composite":r.addComposite(e,n);break;case"mouseConstraint":r.addConstraint(e,n.constraint)}}return o.trigger(e,"afterAdd",{object:object}),e},r.remove=function(e,object,t){var n=[].concat(object);o.trigger(e,"beforeRemove",{object:object});for(var i=0;i<n.length;i++){var c=n[i];switch(c.type){case"body":r.removeBody(e,c,t);break;case"constraint":r.removeConstraint(e,c,t);break;case"composite":r.removeComposite(e,c,t);break;case"mouseConstraint":r.removeConstraint(e,c.constraint)}}return o.trigger(e,"afterRemove",{object:object}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,n){var o=c.indexOf(e.composites,t);if(-1!==o&&(r.removeCompositeAt(e,o),r.setModified(e,!0,!0,!1)),n)for(var i=0;i<e.composites.length;i++)r.removeComposite(e.composites[i],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,body){return e.bodies.push(body),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,body,t){var n=c.indexOf(e.bodies,body);if(-1!==n&&(r.removeBodyAt(e,n),r.setModified(e,!0,!0,!1)),t)for(var i=0;i<e.composites.length;i++)r.removeBody(e.composites[i],body,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,n){var o=c.indexOf(e.constraints,t);if(-1!==o&&r.removeConstraintAt(e,o),n)for(var i=0;i<e.composites.length;i++)r.removeConstraint(e.composites[i],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)r.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter(function(body){return body.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(r.allBodies(e.composites[i]));return t},r.allConstraints=function(e){for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(r.allConstraints(e.composites[i]));return t},r.allComposites=function(e){for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(r.allComposites(e.composites[i]));return t},r.get=function(e,t,n){var o,object;switch(n){case"body":o=r.allBodies(e);break;case"constraint":o=r.allConstraints(e);break;case"composite":o=r.allComposites(e).concat(e)}return o?0===(object=o.filter(function(object){return object.id.toString()===t.toString()})).length?null:object[0]:null},r.move=function(e,t,n){return r.remove(e,t),r.add(n,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),i=0;i<t.length;i++)t[i].id=c.nextId();return r.setModified(e,!0,!0,!1),e},r.translate=function(e,t,n){for(var o=n?r.allBodies(e):e.bodies,i=0;i<o.length;i++)f.translate(o[i],t);return r.setModified(e,!0,!0,!1),e},r.rotate=function(e,t,n,o){for(var c=Math.cos(t),l=Math.sin(t),d=o?r.allBodies(e):e.bodies,i=0;i<d.length;i++){var body=d[i],v=body.position.x-n.x,y=body.position.y-n.y;f.setPosition(body,{x:n.x+(v*c-y*l),y:n.y+(v*l+y*c)}),f.rotate(body,t)}return r.setModified(e,!0,!0,!1),e},r.scale=function(e,t,n,o,c){for(var l=c?r.allBodies(e):e.bodies,i=0;i<l.length;i++){var body=l[i],d=body.position.x-o.x,v=body.position.y-o.y;f.setPosition(body,{x:o.x+d*t,y:o.y+v*n}),f.scale(body,t,n)}return r.setModified(e,!0,!0,!1),e},r.bounds=function(e){for(var t=r.allBodies(e),n=[],i=0;i<t.length;i+=1){var body=t[i];n.push(body.bounds.min,body.bounds.max)}return l.create(n)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var r={};t.exports=r;var o=e("./Composite"),c=(e("../constraint/Constraint"),e("../core/Common"));r.create=function(e){var t=o.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return c.extend(t,n,e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var r={};t.exports=r,r.create=function(e){return{id:r.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},r.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,n){var r={};t.exports=r;var o=e("./SAT"),c=e("./Pair"),l=e("../geometry/Bounds");r.collisions=function(e,t){for(var n=[],f=t.pairs.table,i=0;i<e.length;i++){var d=e[i][0],v=e[i][1];if((!d.isStatic&&!d.isSleeping||!v.isStatic&&!v.isSleeping)&&r.canCollide(d.collisionFilter,v.collisionFilter)&&l.overlaps(d.bounds,v.bounds))for(var y=d.parts.length>1?1:0;y<d.parts.length;y++)for(var h=d.parts[y],m=v.parts.length>1?1:0;m<v.parts.length;m++){var x=v.parts[m];if(h===d&&x===v||l.overlaps(h.bounds,x.bounds)){var w,S=c.id(h,x),A=f[S];w=A&&A.isActive?A.collision:null;var _=o.collides(h,x,w);_.collided&&n.push(_)}}}return n},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var r={};t.exports=r;var o=e("./Pair"),c=e("./Detector"),l=e("../core/Common");r.create=function(e){var t={controller:r,detector:c.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return l.extend(t,e)},r.update=function(e,t,n,o){var i,col,c,l,f,d=n.world,v=e.buckets,y=!1;for(i=0;i<t.length;i++){var body=t[i];if((!body.isSleeping||o)&&!(body.bounds.max.x<d.bounds.min.x||body.bounds.min.x>d.bounds.max.x||body.bounds.max.y<d.bounds.min.y||body.bounds.min.y>d.bounds.max.y)){var h=r._getRegion(e,body);if(!body.region||h.id!==body.region.id||o){body.region&&!o||(body.region=h);var m=r._regionUnion(h,body.region);for(col=m.startCol;col<=m.endCol;col++)for(c=m.startRow;c<=m.endRow;c++){f=r._getBucketId(col,c),l=v[f];var x=col>=h.startCol&&col<=h.endCol&&c>=h.startRow&&c<=h.endRow,w=col>=body.region.startCol&&col<=body.region.endCol&&c>=body.region.startRow&&c<=body.region.endRow;!x&&w&&w&&l&&r._bucketRemoveBody(e,l,body),(body.region===h||x&&!w||o)&&(l||(l=r._createBucket(v,f)),r._bucketAddBody(e,l,body))}body.region=h,y=!0}}}y&&(e.pairsList=r._createActivePairsList(e))},r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},r._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),o=Math.max(e.endCol,t.endCol),c=Math.min(e.startRow,t.startRow),l=Math.max(e.endRow,t.endRow);return r._createRegion(n,o,c,l)},r._getRegion=function(e,body){var t=body.bounds,n=Math.floor(t.min.x/e.bucketWidth),o=Math.floor(t.max.x/e.bucketWidth),c=Math.floor(t.min.y/e.bucketHeight),l=Math.floor(t.max.y/e.bucketHeight);return r._createRegion(n,o,c,l)},r._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){var n=e[t]=[];return n},r._bucketAddBody=function(e,t,body){for(var i=0;i<t.length;i++){var n=t[i];if(!(body.id===n.id||body.isStatic&&n.isStatic)){var r=o.id(body,n),c=e.pairs[r];c?c[2]+=1:e.pairs[r]=[body,n,1]}}t.push(body)},r._bucketRemoveBody=function(e,t,body){t.splice(l.indexOf(t,body),1);for(var i=0;i<t.length;i++){var n=t[i],r=o.id(body,n),c=e.pairs[r];c&&(c[2]-=1)}},r._createActivePairsList=function(e){var t,n,r=[];t=l.keys(e.pairs);for(var o=0;o<t.length;o++)(n=e.pairs[t[o]])[2]>0?r.push(n):delete e.pairs[t[o]];return r}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var r={};t.exports=r;var o=e("./Contact");r.create=function(e,t){var n=e.bodyA,o=e.bodyB,c=e.parentA,l=e.parentB,f={id:r.id(n,o),bodyA:n,bodyB:o,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||o.isSensor,timeCreated:t,timeUpdated:t,inverseMass:c.inverseMass+l.inverseMass,friction:Math.min(c.friction,l.friction),frictionStatic:Math.max(c.frictionStatic,l.frictionStatic),restitution:Math.max(c.restitution,l.restitution),slop:Math.max(c.slop,l.slop)};return r.update(f,e,t),f},r.update=function(e,t,n){var c=e.contacts,l=t.supports,f=e.activeContacts,d=t.parentA,v=t.parentB;if(e.collision=t,e.inverseMass=d.inverseMass+v.inverseMass,e.friction=Math.min(d.friction,v.friction),e.frictionStatic=Math.max(d.frictionStatic,v.frictionStatic),e.restitution=Math.max(d.restitution,v.restitution),e.slop=Math.max(d.slop,v.slop),f.length=0,t.collided){for(var i=0;i<l.length;i++){var y=l[i],h=o.id(y),m=c[h];m?f.push(m):f.push(c[h]=o.create(y))}e.separation=t.depth,r.setActive(e,!0,n)}else!0===e.isActive&&r.setActive(e,!1,n)},r.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},r.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,n){var r={};t.exports=r;var o=e("./Pair"),c=e("../core/Common");r._pairMaxIdleLife=1e3,r.create=function(e){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,n){var r,l,f,i,d=e.list,v=e.table,y=e.collisionStart,h=e.collisionEnd,m=e.collisionActive,x=[];for(y.length=0,h.length=0,m.length=0,i=0;i<t.length;i++)(r=t[i]).collided&&(l=o.id(r.bodyA,r.bodyB),x.push(l),(f=v[l])?(f.isActive?m.push(f):y.push(f),o.update(f,r,n)):(f=o.create(r,n),v[l]=f,y.push(f),d.push(f)));for(i=0;i<d.length;i++)(f=d[i]).isActive&&-1===c.indexOf(x,f.id)&&(o.setActive(f,!1,n),h.push(f))},r.removeOld=function(e,t){var n,o,c,i,l=e.list,f=e.table,d=[];for(i=0;i<l.length;i++)n=l[i],(o=n.collision).bodyA.isSleeping||o.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>r._pairMaxIdleLife&&d.push(i);for(i=0;i<d.length;i++)c=d[i]-i,n=l[c],delete f[n.id],l.splice(c,1)},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vector"),c=e("./SAT"),l=e("../geometry/Bounds"),f=e("../factory/Bodies"),d=e("../geometry/Vertices");r.collides=function(body,e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(l.overlaps(n.bounds,body.bounds))for(var r=1===n.parts.length?0:1;r<n.parts.length;r++){var o=n.parts[r];if(l.overlaps(o.bounds,body.bounds)){var f=c.collides(o,body);if(f.collided){t.push(f);break}}}}return t},r.ray=function(e,t,n,c){c=c||1e-100;for(var l=o.angle(t,n),d=o.magnitude(o.sub(t,n)),v=.5*(n.x+t.x),y=.5*(n.y+t.y),h=f.rectangle(v,y,d,c,{angle:l}),m=r.collides(h,e),i=0;i<m.length;i+=1){var x=m[i];x.body=x.bodyB=x.bodyA}return m},r.region=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var body=e[i],o=l.overlaps(body.bounds,t);(o&&!n||!o&&n)&&r.push(body)}return r},r.point=function(e,t){for(var n=[],i=0;i<e.length;i++){var body=e[i];if(l.contains(body.bounds,t))for(var r=1===body.parts.length?0:1;r<body.parts.length;r++){var o=body.parts[r];if(l.contains(o.bounds,t)&&d.contains(o.vertices,t)){n.push(body);break}}}return n}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),c=e("../geometry/Vector"),l=e("../core/Common"),f=e("../geometry/Bounds");r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(e){var i,t,n;for(i=0;i<e.length;i++)(t=e[i]).isActive&&(n=t.activeContacts.length,t.collision.parentA.totalContacts+=n,t.collision.parentB.totalContacts+=n)},r.solvePosition=function(e,t){var i,n,o,l,f,d,v,y,h,m=c._temp[0],x=c._temp[1],w=c._temp[2],S=c._temp[3];for(i=0;i<e.length;i++)(n=e[i]).isActive&&!n.isSensor&&(o=n.collision,l=o.parentA,f=o.parentB,d=o.normal,v=c.sub(c.add(f.positionImpulse,f.position,m),c.add(l.positionImpulse,c.sub(f.position,o.penetration,x),w),S),n.separation=c.dot(d,v));for(i=0;i<e.length;i++)(n=e[i]).isActive&&!n.isSensor&&(o=n.collision,l=o.parentA,f=o.parentB,d=o.normal,h=(n.separation-n.slop)*t,(l.isStatic||f.isStatic)&&(h*=2),l.isStatic||l.isSleeping||(y=r._positionDampen/l.totalContacts,l.positionImpulse.x+=d.x*h*y,l.positionImpulse.y+=d.y*h*y),f.isStatic||f.isSleeping||(y=r._positionDampen/f.totalContacts,f.positionImpulse.x-=d.x*h*y,f.positionImpulse.y-=d.y*h*y))},r.postSolvePosition=function(e){for(var i=0;i<e.length;i++){var body=e[i];if(body.totalContacts=0,0!==body.positionImpulse.x||0!==body.positionImpulse.y){for(var t=0;t<body.parts.length;t++){var n=body.parts[t];o.translate(n.vertices,body.positionImpulse),f.update(n.bounds,n.vertices,body.velocity),n.position.x+=body.positionImpulse.x,n.position.y+=body.positionImpulse.y}body.positionPrev.x+=body.positionImpulse.x,body.positionPrev.y+=body.positionImpulse.y,c.dot(body.positionImpulse,body.velocity)<0?(body.positionImpulse.x=0,body.positionImpulse.y=0):(body.positionImpulse.x*=r._positionWarming,body.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(e){var i,t,n,r,o,l,f,d,v,y,h,m,x,w,S=c._temp[0],A=c._temp[1];for(i=0;i<e.length;i++)if((n=e[i]).isActive&&!n.isSensor)for(r=n.activeContacts,o=n.collision,l=o.parentA,f=o.parentB,d=o.normal,v=o.tangent,t=0;t<r.length;t++)y=r[t],h=y.vertex,m=y.normalImpulse,x=y.tangentImpulse,0===m&&0===x||(S.x=d.x*m+v.x*x,S.y=d.y*m+v.y*x,l.isStatic||l.isSleeping||(w=c.sub(h,l.position,A),l.positionPrev.x+=S.x*l.inverseMass,l.positionPrev.y+=S.y*l.inverseMass,l.anglePrev+=c.cross(w,S)*l.inverseInertia),f.isStatic||f.isSleeping||(w=c.sub(h,f.position,A),f.positionPrev.x-=S.x*f.inverseMass,f.positionPrev.y-=S.y*f.inverseMass,f.anglePrev-=c.cross(w,S)*f.inverseInertia))},r.solveVelocity=function(e,t){for(var n=t*t,o=c._temp[0],f=c._temp[1],d=c._temp[2],v=c._temp[3],y=c._temp[4],h=c._temp[5],i=0;i<e.length;i++){var m=e[i];if(m.isActive&&!m.isSensor){var x=m.collision,w=x.parentA,S=x.parentB,A=x.normal,_=x.tangent,C=m.activeContacts,P=1/C.length;w.velocity.x=w.position.x-w.positionPrev.x,w.velocity.y=w.position.y-w.positionPrev.y,S.velocity.x=S.position.x-S.positionPrev.x,S.velocity.y=S.position.y-S.positionPrev.y,w.angularVelocity=w.angle-w.anglePrev,S.angularVelocity=S.angle-S.anglePrev;for(var k=0;k<C.length;k++){var B=C[k],M=B.vertex,j=c.sub(M,w.position,f),O=c.sub(M,S.position,d),I=c.add(w.velocity,c.mult(c.perp(j),w.angularVelocity),v),E=c.add(S.velocity,c.mult(c.perp(O),S.angularVelocity),y),T=c.sub(I,E,h),V=c.dot(A,T),R=c.dot(_,T),F=Math.abs(R),D=l.sign(R),L=(1+m.restitution)*V,z=l.clamp(m.separation+V,0,1)*r._frictionNormalMultiplier,N=R,W=1/0;F>m.friction*m.frictionStatic*z*n&&(W=F,N=l.clamp(m.friction*D*n,-W,W));var G=c.cross(j,A),U=c.cross(O,A),H=P/(w.inverseMass+S.inverseMass+w.inverseInertia*G*G+S.inverseInertia*U*U);if(L*=H,N*=H,V<0&&V*V>r._restingThresh*n)B.normalImpulse=0;else{var $=B.normalImpulse;B.normalImpulse=Math.min(B.normalImpulse+L,0),L=B.normalImpulse-$}if(R*R>r._restingThreshTangent*n)B.tangentImpulse=0;else{var X=B.tangentImpulse;B.tangentImpulse=l.clamp(B.tangentImpulse+N,-W,W),N=B.tangentImpulse-X}o.x=A.x*L+_.x*N,o.y=A.y*L+_.y*N,w.isStatic||w.isSleeping||(w.positionPrev.x+=o.x*w.inverseMass,w.positionPrev.y+=o.y*w.inverseMass,w.anglePrev+=c.cross(j,o)*w.inverseInertia),S.isStatic||S.isSleeping||(S.positionPrev.x-=o.x*S.inverseMass,S.positionPrev.y-=o.y*S.inverseMass,S.anglePrev-=c.cross(O,o)*S.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),c=e("../geometry/Vector");r.collides=function(e,t,n){var l,f,d,v,y=!1;if(n){var h=e.parent,m=t.parent,x=h.speed*h.speed+h.angularSpeed*h.angularSpeed+m.speed*m.speed+m.angularSpeed*m.angularSpeed;y=n&&n.collided&&x<.2,v=n}else v={collided:!1,bodyA:e,bodyB:t};if(n&&y){var w=v.axisBody,S=w===e?t:e,A=[w.axes[n.axisNumber]];if(d=r._overlapAxes(w.vertices,S.vertices,A),v.reused=!0,d.overlap<=0)return v.collided=!1,v}else{if((l=r._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return v.collided=!1,v;if((f=r._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return v.collided=!1,v;l.overlap<f.overlap?(d=l,v.axisBody=e):(d=f,v.axisBody=t),v.axisNumber=d.axisNumber}v.bodyA=e.id<t.id?e:t,v.bodyB=e.id<t.id?t:e,v.collided=!0,v.depth=d.overlap,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent,e=v.bodyA,t=v.bodyB,c.dot(d.axis,c.sub(t.position,e.position))<0?v.normal={x:d.axis.x,y:d.axis.y}:v.normal={x:-d.axis.x,y:-d.axis.y},v.tangent=c.perp(v.normal),v.penetration=v.penetration||{},v.penetration.x=v.normal.x*v.depth,v.penetration.y=v.normal.y*v.depth;var _=r._findSupports(e,t,v.normal),C=[];if(o.contains(e.vertices,_[0])&&C.push(_[0]),o.contains(e.vertices,_[1])&&C.push(_[1]),C.length<2){var P=r._findSupports(t,e,c.neg(v.normal));o.contains(t.vertices,P[0])&&C.push(P[0]),C.length<2&&o.contains(t.vertices,P[1])&&C.push(P[1])}return C.length<1&&(C=[_[0]]),v.supports=C,v},r._overlapAxes=function(e,t,n){for(var o,l,f=c._temp[0],d=c._temp[1],v={overlap:Number.MAX_VALUE},i=0;i<n.length;i++){if(l=n[i],r._projectToAxis(f,e,l),r._projectToAxis(d,t,l),(o=Math.min(f.max-d.min,d.max-f.min))<=0)return v.overlap=o,v;o<v.overlap&&(v.overlap=o,v.axis=l,v.axisNumber=i)}return v},r._projectToAxis=function(e,t,n){for(var r=c.dot(t[0],n),o=r,i=1;i<t.length;i+=1){var l=c.dot(t[i],n);l>o?o=l:l<r&&(r=l)}e.min=r,e.max=o},r._findSupports=function(e,t,n){for(var r,o,l,f,d=Number.MAX_VALUE,v=c._temp[0],y=t.vertices,h=e.position,i=0;i<y.length;i++)o=y[i],v.x=o.x-h.x,v.y=o.y-h.y,(r=-c.dot(n,v))<d&&(d=r,l=o);var m=l.index-1>=0?l.index-1:y.length-1;o=y[m],v.x=o.x-h.x,v.y=o.y-h.y,d=-c.dot(n,v),f=o;var x=(l.index+1)%y.length;return o=y[x],v.x=o.x-h.x,v.y=o.y-h.y,(r=-c.dot(n,v))<d&&(f=o),[l,f]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),c=e("../geometry/Vector"),l=e("../core/Sleeping"),f=e("../geometry/Bounds"),d=e("../geometry/Axes"),v=e("../core/Common");r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?c.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?c.add(t.bodyB.position,t.pointB):t.pointB,o=c.magnitude(c.sub(n,r));t.length=void 0!==t.length?t.length:o,t.id=t.id||v.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var l={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(l.type="pin",l.anchors=!1):t.stiffness<.9&&(l.type="spring"),t.render=v.extend(l,t.render),t},r.preSolveAll=function(e){for(var i=0;i<e.length;i+=1){var body=e[i],t=body.constraintImpulse;body.isStatic||0===t.x&&0===t.y&&0===t.angle||(body.position.x+=t.x,body.position.y+=t.y,body.angle+=t.angle)}},r.solveAll=function(e,t){for(var i=0;i<e.length;i+=1){var n=e[i],o=!n.bodyA||n.bodyA&&n.bodyA.isStatic,c=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(o||c)&&r.solve(e[i],t)}for(i=0;i<e.length;i+=1)n=e[i],o=!n.bodyA||n.bodyA&&n.bodyA.isStatic,c=!n.bodyB||n.bodyB&&n.bodyB.isStatic,o||c||r.solve(e[i],t)},r.solve=function(e,t){var n=e.bodyA,o=e.bodyB,l=e.pointA,f=e.pointB;if(n||o){n&&!n.isStatic&&(c.rotate(l,n.angle-e.angleA,l),e.angleA=n.angle),o&&!o.isStatic&&(c.rotate(f,o.angle-e.angleB,f),e.angleB=o.angle);var d=l,v=f;if(n&&(d=c.add(n.position,l)),o&&(v=c.add(o.position,f)),d&&v){var y=c.sub(d,v),h=c.magnitude(y);h<r._minLength&&(h=r._minLength);var m,x,w,S,A,_=(h-e.length)/h,C=e.stiffness<1?e.stiffness*t:e.stiffness,P=c.mult(y,_*C),k=(n?n.inverseMass:0)+(o?o.inverseMass:0),B=(n?n.inverseInertia:0)+(o?o.inverseInertia:0),M=k+B;if(e.damping){var j=c.create();w=c.div(y,h),A=c.sub(o&&c.sub(o.position,o.positionPrev)||j,n&&c.sub(n.position,n.positionPrev)||j),S=c.dot(w,A)}n&&!n.isStatic&&(x=n.inverseMass/k,n.constraintImpulse.x-=P.x*x,n.constraintImpulse.y-=P.y*x,n.position.x-=P.x*x,n.position.y-=P.y*x,e.damping&&(n.positionPrev.x-=e.damping*w.x*S*x,n.positionPrev.y-=e.damping*w.y*S*x),m=c.cross(l,P)/M*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=m,n.angle-=m),o&&!o.isStatic&&(x=o.inverseMass/k,o.constraintImpulse.x+=P.x*x,o.constraintImpulse.y+=P.y*x,o.position.x+=P.x*x,o.position.y+=P.y*x,e.damping&&(o.positionPrev.x+=e.damping*w.x*S*x,o.positionPrev.y+=e.damping*w.y*S*x),m=c.cross(f,P)/M*r._torqueDampen*o.inverseInertia*(1-e.angularStiffness),o.constraintImpulse.angle+=m,o.angle+=m)}}},r.postSolveAll=function(e){for(var i=0;i<e.length;i++){var body=e[i],t=body.constraintImpulse;if(!(body.isStatic||0===t.x&&0===t.y&&0===t.angle)){l.set(body,!1);for(var n=0;n<body.parts.length;n++){var v=body.parts[n];o.translate(v.vertices,t),n>0&&(v.position.x+=t.x,v.position.y+=t.y),0!==t.angle&&(o.rotate(v.vertices,t.angle,body.position),d.rotate(v.axes,t.angle),n>0&&c.rotateAbout(v.position,t.angle,body.position,v.position)),f.update(v.bounds,v.vertices,body.velocity)}t.angle*=r._warming,t.x*=r._warming,t.y*=r._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),c=e("../core/Sleeping"),l=e("../core/Mouse"),f=e("../core/Events"),d=e("../collision/Detector"),v=e("./Constraint"),y=e("../body/Composite"),h=e("../core/Common"),m=e("../geometry/Bounds");r.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=l.create(e.render.canvas):t&&t.element?n=l.create(t.element):(n=l.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var o=v.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),c={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:o,collisionFilter:{category:1,mask:4294967295,group:0}},d=h.extend(c,t);return f.on(e,"beforeUpdate",function(){var t=y.allBodies(e.world);r.update(d,t),r._triggerEvents(d)}),d},r.update=function(e,t){var n=e.mouse,r=e.constraint,body=e.body;if(0===n.button){if(r.bodyB)c.set(r.bodyB,!1),r.pointA=n.position;else for(var i=0;i<t.length;i++)if(body=t[i],m.contains(body.bounds,n.position)&&d.canCollide(body.collisionFilter,e.collisionFilter))for(var l=body.parts.length>1?1:0;l<body.parts.length;l++){var v=body.parts[l];if(o.contains(v.vertices,n.position)){r.pointA=n.position,r.bodyB=e.body=body,r.pointB={x:n.position.x-body.position.x,y:n.position.y-body.position.y},r.angleB=body.angle,c.set(body,!1),f.trigger(e,"startdrag",{mouse:n,body:body});break}}}else r.bodyB=e.body=null,r.pointB=null,body&&f.trigger(e,"enddrag",{mouse:n,body:body})},r._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&f.trigger(e,"mousemove",{mouse:t}),n.mousedown&&f.trigger(e,"mousedown",{mouse:t}),n.mouseup&&f.trigger(e,"mouseup",{mouse:t}),l.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(e,n,r){(function(t){var r={};n.exports=r,function(){r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r.extend=function(e,t){var n,o;"boolean"==typeof t?(n=2,o=t):(n=1,o=!0);for(var i=n;i<arguments.length;i++){var source=arguments[i];if(source)for(var c in source)o&&source[c]&&source[c].constructor===Object?e[c]&&e[c].constructor!==Object?e[c]=source[c]:(e[c]=e[c]||{},r.extend(e[c],o,source[c])):e[c]=source[c]}return e},r.clone=function(e,t){return r.extend({},t,e)},r.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},r.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}for(var r in e)t.push(e[r]);return t},r.get=function(e,path,t,n){path=path.split(".").slice(t,n);for(var i=0;i<path.length;i+=1)e=e[path[i]];return e},r.set=function(e,path,t,n,o){var c=path.split(".").slice(n,o);return r.get(e,path,0,-1)[c[c.length-1]]=t,t},r.shuffle=function(e){for(var i=e.length-1;i>0;i--){var t=Math.floor(r.random()*(i+1)),n=e[i];e[i]=e[t],e[t]=n}return e},r.choose=function(e){return e[Math.floor(r.random()*e.length)]},r.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isFunction=function(e){return"function"==typeof e},r.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},r.isString=function(e){return"[object String]"===toString.call(e)},r.clamp=function(e,t,n){return e<t?t:e>n?n:e},r.sign=function(e){return e<0?-1:1},r.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-r._nowStartTime},r.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)};var n=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280};r.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.nextId=function(){return r._nextId++},r.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},r.map=function(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n},r.topologicalSort=function(e){var t=[],n=[],o=[];for(var c in e)n[c]||o[c]||r._topologicalSort(c,n,o,e,t);return t},r._topologicalSort=function(e,t,n,o,c){var l=o[e]||[];n[e]=!0;for(var i=0;i<l.length;i+=1){var f=l[i];n[f]||t[f]||r._topologicalSort(f,t,n,o,c)}n[e]=!1,t[e]=!0,c.push(e)},r.chain=function(){for(var e=[],i=0;i<arguments.length;i+=1){var t=arguments[i];t._chained?e.push.apply(e,t._chained):e.push(t)}var n=function(){for(var t,n=new Array(arguments.length),i=0,r=arguments.length;i<r;i++)n[i]=arguments[i];for(i=0;i<e.length;i+=1){var o=e[i].apply(t,n);void 0!==o&&(t=o)}return t};return n._chained=e,n},r.chainPathBefore=function(base,path,e){return r.set(base,path,r.chain(e,r.get(base,path)))},r.chainPathAfter=function(base,path,e){return r.set(base,path,r.chain(r.get(base,path),e))},r._requireGlobal=function(n,r){var o="undefined"!=typeof window?window[n]:void 0!==t?t[n]:null;return o||e(r)}}()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){var r={};t.exports=r;var o=e("../body/World"),c=e("./Sleeping"),l=e("../collision/Resolver"),f=e("../render/Render"),d=e("../collision/Pairs"),v=(e("./Metrics"),e("../collision/Grid")),y=e("./Events"),h=e("../body/Composite"),m=e("../constraint/Constraint"),x=e("./Common"),w=e("../body/Body");r.create=function(element,e){e=x.isElement(element)?e:element,element=x.isElement(element)?element:null,e=e||{},(element||e.render)&&x.warn("Engine.create: engine.render is deprecated (see docs)");var t={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:v}},n=x.extend(t,e);if(element||n.render){var r={element:element,controller:f};n.render=x.extend(r,n.render)}return n.render&&n.render.controller&&(n.render=n.render.controller.create(n.render)),n.render&&(n.render.engine=n),n.world=e.world||o.create(n.world),n.pairs=d.create(),n.broadphase=n.broadphase.controller.create(n.broadphase),n.metrics=n.metrics||{extended:!1},n},r.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,o=e.world,f=e.timing,v=e.broadphase,x=[];f.timestamp+=t*f.timeScale;var w={timestamp:f.timestamp};y.trigger(e,"beforeUpdate",w);var S=h.allBodies(o),A=h.allConstraints(o);for(e.enableSleeping&&c.update(S,f.timeScale),r._bodiesApplyGravity(S,o.gravity),r._bodiesUpdate(S,t,f.timeScale,n,o.bounds),m.preSolveAll(S),i=0;i<e.constraintIterations;i++)m.solveAll(A,f.timeScale);m.postSolveAll(S),v.controller?(o.isModified&&v.controller.clear(v),v.controller.update(v,S,e,o.isModified),x=v.pairsList):x=S,o.isModified&&h.setModified(o,!1,!1,!0);var _=v.detector(x,e),C=e.pairs,P=f.timestamp;for(d.update(C,_,P),d.removeOld(C,P),e.enableSleeping&&c.afterCollisions(C.list,f.timeScale),C.collisionStart.length>0&&y.trigger(e,"collisionStart",{pairs:C.collisionStart}),l.preSolvePosition(C.list),i=0;i<e.positionIterations;i++)l.solvePosition(C.list,f.timeScale);for(l.postSolvePosition(S),m.preSolveAll(S),i=0;i<e.constraintIterations;i++)m.solveAll(A,f.timeScale);for(m.postSolveAll(S),l.preSolveVelocity(C.list),i=0;i<e.velocityIterations;i++)l.solveVelocity(C.list,f.timeScale);return C.collisionActive.length>0&&y.trigger(e,"collisionActive",{pairs:C.collisionActive}),C.collisionEnd.length>0&&y.trigger(e,"collisionEnd",{pairs:C.collisionEnd}),r._bodiesClearForces(S),y.trigger(e,"afterUpdate",w),e},r.merge=function(e,t){if(x.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var n=h.allBodies(e.world),i=0;i<n.length;i++){var body=n[i];c.set(body,!1),body.id=x.nextId()}}},r.clear=function(e){var t=e.world;d.clear(e.pairs);var n=e.broadphase;if(n.controller){var r=h.allBodies(t);n.controller.clear(n),n.controller.update(n,r,e,!0)}},r._bodiesClearForces=function(e){for(var i=0;i<e.length;i++){var body=e[i];body.force.x=0,body.force.y=0,body.torque=0}},r._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var i=0;i<e.length;i++){var body=e[i];body.isStatic||body.isSleeping||(body.force.y+=body.mass*t.y*n,body.force.x+=body.mass*t.x*n)}},r._bodiesUpdate=function(e,t,n,r,o){for(var i=0;i<e.length;i++){var body=e[i];body.isStatic||body.isSleeping||w.update(body,t,n,r)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var r={};t.exports=r;var o=e("./Common");r.on=function(object,e,t){for(var n,r=e.split(" "),i=0;i<r.length;i++)n=r[i],object.events=object.events||{},object.events[n]=object.events[n]||[],object.events[n].push(t);return t},r.off=function(object,e,t){if(e){"function"==typeof e&&(t=e,e=o.keys(object.events).join(" "));for(var n=e.split(" "),i=0;i<n.length;i++){var r=object.events[n[i]],c=[];if(t&&r)for(var l=0;l<r.length;l++)r[l]!==t&&c.push(r[l]);object.events[n[i]]=c}}else object.events={}},r.trigger=function(object,e,t){var n,r,c,l;if(object.events){t||(t={}),n=e.split(" ");for(var i=0;i<n.length;i++)if(r=n[i],c=object.events[r]){(l=o.clone(t,!1)).name=r,l.source=object;for(var f=0;f<c.length;f++)c[f].apply(object,[l])}}}},{"./Common":14}],17:[function(e,t,n){var r={};t.exports=r;var o=e("./Plugin"),c=e("./Common");r.name="matter-js",r.version="0.14.2",r.uses=[],r.used=[],r.use=function(){o.use(r,Array.prototype.slice.call(arguments))},r.before=function(path,e){return path=path.replace(/^Matter./,""),c.chainPathBefore(r,path,e)},r.after=function(path,e){return path=path.replace(/^Matter./,""),c.chainPathAfter(r,path,e)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var r={};t.exports=r;var o=e("../core/Common");r.create=function(element){var e={};return element||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=element||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=e.element.getAttribute("data-pixel-ratio")||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var n=r._getRelativeMousePosition(t,e.element,e.pixelRatio),o=t.changedTouches;o&&(e.button=0,t.preventDefault()),e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var n=r._getRelativeMousePosition(t,e.element,e.pixelRatio),o=t.changedTouches;o?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var n=r._getRelativeMousePosition(t,e.element,e.pixelRatio),o=t.changedTouches;o&&t.preventDefault(),e.button=-1,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},r.setElement(e,e.element),e},r.setElement=function(e,element){e.element=element,element.addEventListener("mousemove",e.mousemove),element.addEventListener("mousedown",e.mousedown),element.addEventListener("mouseup",e.mouseup),element.addEventListener("mousewheel",e.mousewheel),element.addEventListener("DOMMouseScroll",e.mousewheel),element.addEventListener("touchmove",e.mousemove),element.addEventListener("touchstart",e.mousedown),element.addEventListener("touchend",e.mouseup)},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,element,t){var n,r,o=element.getBoundingClientRect(),c=document.documentElement||document.body.parentNode||document.body,l=void 0!==window.pageXOffset?window.pageXOffset:c.scrollLeft,f=void 0!==window.pageYOffset?window.pageYOffset:c.scrollTop,d=e.changedTouches;return d?(n=d[0].pageX-o.left-l,r=d[0].pageY-o.top-f):(n=e.pageX-o.left-l,r=e.pageY-o.top-f),{x:n/(element.clientWidth/(element.width||element.clientWidth)*t),y:r/(element.clientHeight/(element.height||element.clientHeight)*t)}}},{"../core/Common":14}],20:[function(e,t,n){var r={};t.exports=r;var o=e("./Common");r._registry={},r.register=function(e){if(r.isPlugin(e)||o.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],n=r.versionParse(e.version).number,c=r.versionParse(t.version).number;n>c?(o.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):n<c?o.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&o.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var n=e.for&&r.dependencyParse(e.for);return!e.for||t.name===n.name&&r.versionSatisfies(t.version,n.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=r.dependencies(e),c=o.topologicalSort(n),l=[],i=0;i<c.length;i+=1)if(c[i]!==e.name){var f=r.resolve(c[i]);f?r.isUsed(e,f.name)||(r.isFor(f,e)||(o.warn("Plugin.use:",r.toString(f),"is for",f.for,"but installed on",r.toString(e)+"."),f._warned=!0),f.install?f.install(e):(o.warn("Plugin.use:",r.toString(f),"does not specify an install function."),f._warned=!0),f._warned?(l.push(" "+r.toString(f)),delete f._warned):l.push(" "+r.toString(f)),e.used.push(f.name)):l.push(" "+c[i])}l.length>0&&o.info(l.join("  "))}else o.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var n=r.dependencyParse(e),c=n.name;if(!(c in(t=t||{}))){e=r.resolve(e)||e,t[c]=o.map(e.uses||[],function(t){r.isPlugin(t)&&r.register(t);var c=r.dependencyParse(t),l=r.resolve(t);return l&&!r.versionSatisfies(l.version,c.range)?(o.warn("Plugin.dependencies:",r.toString(l),"does not satisfy",r.toString(c),"used by",r.toString(n)+"."),l._warned=!0,e._warned=!0):l||(o.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(n),"could not be resolved."),e._warned=!0),c.name});for(var i=0;i<t[c].length;i+=1)r.dependencies(t[c][i],t);return t}},r.dependencyParse=function(e){return o.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||o.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||o.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),r=n?e.substr(1):e,c=o.map(r.split("."),function(e){return Number(e)});return{isRange:n,version:r,range:e,operator:n?e[0]:"",parts:c,prerelease:t[1],number:1e8*c[0]+1e4*c[1]+c[2]}},r.versionSatisfies=function(e,t){t=t||"*";var n=r.versionParse(t),o=n.parts,c=r.versionParse(e),l=c.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return l[0]===o[0]&&l[1]===o[1]&&l[2]>=o[2];if("^"===n.operator)return o[0]>0?l[0]===o[0]&&c.number>=n.number:o[1]>0?l[1]===o[1]&&l[2]>=o[2]:l[2]===o[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,n){var r={};t.exports=r;var o,c,l,f=e("./Events"),d=e("./Engine"),v=e("./Common");"undefined"!=typeof window&&(o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o||(o=function(e){l=setTimeout(function(){e(v.now())},1e3/60)},c=function(){clearTimeout(l)}),r.create=function(e){var t=v.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},r.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=r.create()),function n(time){e.frameRequestId=o(n),time&&e.enabled&&r.tick(e,t,time)}(),e},r.tick=function(e,t,time){var n,r=t.timing,o=1,c={timestamp:r.timestamp};f.trigger(e,"beforeTick",c),f.trigger(t,"beforeTick",c),e.isFixed?n=e.delta:(n=time-e.timePrev||e.delta,e.timePrev=time,e.deltaHistory.push(n),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),n=(n=(n=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:n)>e.deltaMax?e.deltaMax:n,o=n/e.delta,e.delta=n),0!==e.timeScalePrev&&(o*=r.timeScale/e.timeScalePrev),0===r.timeScale&&(o=0),e.timeScalePrev=r.timeScale,e.correction=o,e.frameCounter+=1,time-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((time-e.counterTimestamp)/1e3),e.counterTimestamp=time,e.frameCounter=0),f.trigger(e,"tick",c),f.trigger(t,"tick",c),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),f.trigger(e,"beforeUpdate",c),d.update(t,n,o),f.trigger(e,"afterUpdate",c),t.render&&t.render.controller&&(f.trigger(e,"beforeRender",c),f.trigger(t,"beforeRender",c),t.render.controller.world(t.render),f.trigger(e,"afterRender",c),f.trigger(t,"afterRender",c)),f.trigger(e,"afterTick",c),f.trigger(t,"afterTick",c)},r.stop=function(e){c(e.frameRequestId)},r.start=function(e,t){r.run(e,t)}},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var r={};t.exports=r;var o=e("./Events");r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var body=e[i],o=body.speed*body.speed+body.angularSpeed*body.angularSpeed;if(0===body.force.x&&0===body.force.y){var c=Math.min(body.motion,o),l=Math.max(body.motion,o);body.motion=r._minBias*c+(1-r._minBias)*l,body.sleepThreshold>0&&body.motion<r._motionSleepThreshold*n?(body.sleepCounter+=1,body.sleepCounter>=body.sleepThreshold&&r.set(body,!0)):body.sleepCounter>0&&(body.sleepCounter-=1)}else r.set(body,!1)}},r.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var o=e[i];if(o.isActive){var c=o.collision,l=c.bodyA.parent,f=c.bodyB.parent;if(!(l.isSleeping&&f.isSleeping||l.isStatic||f.isStatic)&&(l.isSleeping||f.isSleeping)){var d=l.isSleeping&&!l.isStatic?l:f,v=d===l?f:l;!d.isStatic&&v.motion>r._motionWakeThreshold*n&&r.set(d,!1)}}}},r.set=function(body,e){var t=body.isSleeping;e?(body.isSleeping=!0,body.sleepCounter=body.sleepThreshold,body.positionImpulse.x=0,body.positionImpulse.y=0,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.anglePrev=body.angle,body.speed=0,body.angularSpeed=0,body.motion=0,t||o.trigger(body,"sleepStart")):(body.isSleeping=!1,body.sleepCounter=0,t&&o.trigger(body,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,n){var r={};t.exports=r;var o,c=e("../geometry/Vertices"),l=e("../core/Common"),f=e("../body/Body"),d=e("../geometry/Bounds"),v=e("../geometry/Vector");r.rectangle=function(e,t,n,r,o){o=o||{};var d={label:"Rectangle Body",position:{x:e,y:t},vertices:c.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(o.chamfer){var v=o.chamfer;d.vertices=c.chamfer(d.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete o.chamfer}return f.create(l.extend({},d,o))},r.trapezoid=function(e,t,n,r,o,d){d=d||{};var v,y=(1-2*(o*=.5))*n,h=n*o,m=h+y,x=m+h;v=o<.5?"L 0 0 L "+h+" "+-r+" L "+m+" "+-r+" L "+x+" 0":"L 0 0 L "+m+" "+-r+" L "+x+" 0";var w={label:"Trapezoid Body",position:{x:e,y:t},vertices:c.fromPath(v)};if(d.chamfer){var S=d.chamfer;w.vertices=c.chamfer(w.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete d.chamfer}return f.create(l.extend({},w,d))},r.circle=function(e,t,n,o,c){o=o||{};var circle={label:"Circle Body",circleRadius:n};c=c||25;var f=Math.ceil(Math.max(10,Math.min(c,n)));return f%2==1&&(f+=1),r.polygon(e,t,f,n,l.extend({},circle,o))},r.polygon=function(e,t,n,o,d){if(d=d||{},n<3)return r.circle(e,t,o,d);for(var v=2*Math.PI/n,path="",y=.5*v,i=0;i<n;i+=1){var h=y+i*v,m=Math.cos(h)*o,x=Math.sin(h)*o;path+="L "+m.toFixed(3)+" "+x.toFixed(3)+" "}var polygon={label:"Polygon Body",position:{x:e,y:t},vertices:c.fromPath(path)};if(d.chamfer){var w=d.chamfer;polygon.vertices=c.chamfer(polygon.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete d.chamfer}return f.create(l.extend({},polygon,d))},r.fromVertices=function(e,t,n,r,y,h,m){var body,x,w,S,i,A,_,C,P;for(o||(o=l._requireGlobal("decomp","poly-decomp")),r=r||{},x=[],y=void 0!==y&&y,h=void 0!==h?h:.01,m=void 0!==m?m:10,o||l.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),l.isArray(n[0])||(n=[n]),C=0;C<n.length;C+=1)if(S=n[C],(w=c.isConvex(S))||!o)S=w?c.clockwiseSort(S):c.hull(S),x.push({position:{x:e,y:t},vertices:S});else{var k=S.map(function(e){return[e.x,e.y]});o.makeCCW(k),!1!==h&&o.removeCollinearPoints(k,h);var B=o.quickDecomp(k);for(i=0;i<B.length;i++){var M=B[i],j=M.map(function(e){return{x:e[0],y:e[1]}});m>0&&c.area(j)<m||x.push({position:c.centre(j),vertices:j})}}for(i=0;i<x.length;i++)x[i]=f.create(l.extend(x[i],r));if(y)for(i=0;i<x.length;i++){var O=x[i];for(A=i+1;A<x.length;A++){var I=x[A];if(d.overlaps(O.bounds,I.bounds)){var E=O.vertices,T=I.vertices;for(_=0;_<O.vertices.length;_++)for(P=0;P<I.vertices.length;P++){var V=v.magnitudeSquared(v.sub(E[(_+1)%E.length],T[P])),R=v.magnitudeSquared(v.sub(E[_],T[(P+1)%T.length]));V<5&&R<5&&(E[_].isInternal=!0,T[P].isInternal=!0)}}}}return x.length>1?(body=f.create(l.extend({parts:x.slice(0)},r)),f.setPosition(body,{x:e,y:t}),body):x[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var r={};t.exports=r;var o=e("../body/Composite"),c=e("../constraint/Constraint"),l=e("../core/Common"),f=e("../body/Body"),d=e("./Bodies");r.stack=function(e,t,n,r,c,l,d){for(var v,y=o.create({label:"Stack"}),h=e,m=t,i=0,x=0;x<r;x++){for(var w=0,S=0;S<n;S++){var body=d(h,m,S,x,v,i);if(body){var A=body.bounds.max.y-body.bounds.min.y,_=body.bounds.max.x-body.bounds.min.x;A>w&&(w=A),f.translate(body,{x:.5*_,y:.5*A}),h=body.bounds.max.x+c,o.addBody(y,body),v=body,i+=1}else h+=c}m+=w+l,h=e}return y},r.chain=function(e,t,n,r,f,d){for(var v=e.bodies,i=1;i<v.length;i++){var y=v[i-1],h=v[i],m=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x,w=h.bounds.max.y-h.bounds.min.y,S=h.bounds.max.x-h.bounds.min.x,A={bodyA:y,pointA:{x:x*t,y:m*n},bodyB:h,pointB:{x:S*r,y:w*f}},_=l.extend(A,d);o.addConstraint(e,c.create(_))}return e.label+=" Chain",e},r.mesh=function(e,t,n,r,f){var d,col,v,y,h,m=e.bodies;for(d=0;d<n;d++){for(col=1;col<t;col++)v=m[col-1+d*t],y=m[col+d*t],o.addConstraint(e,c.create(l.extend({bodyA:v,bodyB:y},f)));if(d>0)for(col=0;col<t;col++)v=m[col+(d-1)*t],y=m[col+d*t],o.addConstraint(e,c.create(l.extend({bodyA:v,bodyB:y},f))),r&&col>0&&(h=m[col-1+(d-1)*t],o.addConstraint(e,c.create(l.extend({bodyA:h,bodyB:y},f)))),r&&col<t-1&&(h=m[col+1+(d-1)*t],o.addConstraint(e,c.create(l.extend({bodyA:h,bodyB:y},f))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,n,o,c,l,d){return r.stack(e,t,n,o,c,l,function(t,r,l,v,y,i){var h=Math.min(o,Math.ceil(n/2)),m=y?y.bounds.max.x-y.bounds.min.x:0;if(!(v>h)){var x=v=h-v,w=n-1-v;if(!(l<x||l>w)){1===i&&f.translate(y,{x:(l+(n%2==1?1:-1))*m,y:0});var S=y?l*m:0;return d(e+S+l*c,r,l,v,y,i)}}})},r.newtonsCradle=function(e,t,n,r,l){for(var f=o.create({label:"Newtons Cradle"}),i=0;i<n;i++){var circle=d.circle(e+i*(1.9*r),t+l,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),v=c.create({pointA:{x:e+i*(1.9*r),y:t},bodyB:circle});o.addBody(f,circle),o.addConstraint(f,v)}return f},r.car=function(e,t,n,r,l){var v=f.nextGroup(!0),y=.5*-n+20,h=.5*n-20,m=o.create({label:"Car"}),body=d.rectangle(e,t,n,r,{collisionFilter:{group:v},chamfer:{radius:.5*r},density:2e-4}),x=d.circle(e+y,t+0,l,{collisionFilter:{group:v},friction:.8}),w=d.circle(e+h,t+0,l,{collisionFilter:{group:v},friction:.8}),S=c.create({bodyB:body,pointB:{x:y,y:0},bodyA:x,stiffness:1,length:0}),A=c.create({bodyB:body,pointB:{x:h,y:0},bodyA:w,stiffness:1,length:0});return o.addBody(m,body),o.addBody(m,x),o.addBody(m,w),o.addConstraint(m,S),o.addConstraint(m,A),m},r.softBody=function(e,t,n,o,c,f,v,y,h,m){h=l.extend({inertia:1/0},h),m=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var x=r.stack(e,t,n,o,c,f,function(e,t){return d.circle(e,t,y,h)});return r.mesh(x,n,o,v,m),x.label="Soft Body",x}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vector"),c=e("../core/Common");r.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var n=(i+1)%e.length,r=o.normalise({x:e[n].y-e[i].y,y:e[i].x-e[n].x}),l=0===r.y?1/0:r.x/r.y;l=l.toFixed(3).toString(),t[l]=r}return c.values(t)},r.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var o,c=e[i];o=c.x*n-c.y*r,c.y=c.x*r+c.y*n,c.x=o}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var r={};t.exports=r,r.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&r.update(t,e),t},r.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<t.length;i++){var r=t[i];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},r.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},r.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},r.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},r.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+r}},{}],27:[function(e,t,n){var r={};t.exports=r,e("../geometry/Bounds");var o=e("../core/Common");r.pathToVertices=function(path,e){"undefined"==typeof window||"SVGPathSeg"in window||o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,t,n,c,l,f,d,v,y,h,m,x,w=[],S=0,A=0,_=0;e=e||15;var C=function(e,t,n){var r=n%2==1&&n>1;if(!y||e!=y.x||t!=y.y){y&&r?(m=y.x,x=y.y):(m=0,x=0);var o={x:m+e,y:x+t};!r&&y||(y=o),w.push(o),A=m+e,_=x+t}},P=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":A=e.x,_=e.y;break;case"H":A=e.x;break;case"V":_=e.y}C(A,_,e.pathSegType)}};for(r._svgPathToAbsolute(path),n=path.getTotalLength(),f=[],i=0;i<path.pathSegList.numberOfItems;i+=1)f.push(path.pathSegList.getItem(i));for(d=f.concat();S<n;){if(h=path.getPathSegAtLength(S),(l=f[h])!=v){for(;d.length&&d[0]!=l;)P(d.shift());v=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=path.getPointAtLength(S),C(c.x,c.y,0)}S+=e}for(i=0,t=d.length;i<t;++i)P(d[i]);return w},r._svgPathToAbsolute=function(path){for(var e,t,n,r,o,c,l=path.pathSegList,f=0,d=0,v=l.numberOfItems,i=0;i<v;++i){var y=l.getItem(i),h=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(h))"x"in y&&(f=y.x),"y"in y&&(d=y.y);else switch("x1"in y&&(n=f+y.x1),"x2"in y&&(o=f+y.x2),"y1"in y&&(r=d+y.y1),"y2"in y&&(c=d+y.y2),"x"in y&&(f+=y.x),"y"in y&&(d+=y.y),h){case"m":l.replaceItem(path.createSVGPathSegMovetoAbs(f,d),i);break;case"l":l.replaceItem(path.createSVGPathSegLinetoAbs(f,d),i);break;case"h":l.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(f),i);break;case"v":l.replaceItem(path.createSVGPathSegLinetoVerticalAbs(d),i);break;case"c":l.replaceItem(path.createSVGPathSegCurvetoCubicAbs(f,d,n,r,o,c),i);break;case"s":l.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(f,d,o,c),i);break;case"q":l.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(f,d,n,r),i);break;case"t":l.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(f,d),i);break;case"a":l.replaceItem(path.createSVGPathSegArcAbs(f,d,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),i);break;case"z":case"Z":f=e,d=t}"M"!=h&&"m"!=h||(e=f,t=d)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var r={};t.exports=r,r.create=function(e,t){return{x:e||0,y:t||0}},r.clone=function(e){return{x:e.x,y:e.y}},r.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},r.rotate=function(e,t,output){var n=Math.cos(t),r=Math.sin(t);output||(output={});var o=e.x*n-e.y*r;return output.y=e.x*r+e.y*n,output.x=o,output},r.rotateAbout=function(e,t,n,output){var r=Math.cos(t),o=Math.sin(t);output||(output={});var c=n.x+((e.x-n.x)*r-(e.y-n.y)*o);return output.y=n.y+((e.x-n.x)*o+(e.y-n.y)*r),output.x=c,output},r.normalise=function(e){var t=r.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.cross=function(e,t){return e.x*t.y-e.y*t.x},r.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},r.add=function(e,t,output){return output||(output={}),output.x=e.x+t.x,output.y=e.y+t.y,output},r.sub=function(e,t,output){return output||(output={}),output.x=e.x-t.x,output.y=e.y-t.y,output},r.mult=function(e,t){return{x:e.x*t,y:e.y*t}},r.div=function(e,t){return{x:e.x/t,y:e.y/t}},r.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},r.neg=function(e){return{x:-e.x,y:-e.y}},r.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]},{}],29:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vector"),c=e("../core/Common");r.create=function(e,body){for(var t=[],i=0;i<e.length;i++){var n=e[i],r={x:n.x,y:n.y,index:i,body:body,isInternal:!1};t.push(r)}return t},r.fromPath=function(path,body){var e=[];return path.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(t,n,r){e.push({x:parseFloat(n),y:parseFloat(r)})}),r.create(e,body)},r.centre=function(e){for(var t,n,c,area=r.area(e,!0),l={x:0,y:0},i=0;i<e.length;i++)c=(i+1)%e.length,t=o.cross(e[i],e[c]),n=o.mult(o.add(e[i],e[c]),t),l=o.add(l,n);return o.div(l,6*area)},r.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return o.div(t,e.length)},r.area=function(e,t){for(var area=0,n=e.length-1,i=0;i<e.length;i++)area+=(e[n].x-e[i].x)*(e[n].y+e[i].y),n=i;return t?area/2:Math.abs(area)/2},r.inertia=function(e,t){for(var n,r,c=0,l=0,f=e,d=0;d<f.length;d++)r=(d+1)%f.length,n=Math.abs(o.cross(f[r],f[d])),c+=n*(o.dot(f[r],f[r])+o.dot(f[r],f[d])+o.dot(f[d],f[d])),l+=n;return t/6*(c/l)},r.translate=function(e,t,n){var i;if(n)for(i=0;i<e.length;i++)e[i].x+=t.x*n,e[i].y+=t.y*n;else for(i=0;i<e.length;i++)e[i].x+=t.x,e[i].y+=t.y;return e},r.rotate=function(e,t,n){if(0!==t){for(var r=Math.cos(t),o=Math.sin(t),i=0;i<e.length;i++){var c=e[i],l=c.x-n.x,f=c.y-n.y;c.x=n.x+(l*r-f*o),c.y=n.y+(l*o+f*r)}return e}},r.contains=function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=e[(i+1)%e.length];if((t.x-n.x)*(r.y-n.y)+(t.y-n.y)*(n.x-r.x)>0)return!1}return!0},r.scale=function(e,t,n,c){if(1===t&&1===n)return e;var l,f;c=c||r.centre(e);for(var i=0;i<e.length;i++)l=e[i],f=o.sub(l,c),e[i].x=c.x+f.x*t,e[i].y=c.y+f.y*n;return e},r.chamfer=function(e,t,n,r,l){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,r=r||2,l=l||14;for(var f=[],i=0;i<e.length;i++){var d=e[i-1>=0?i-1:e.length-1],v=e[i],y=e[(i+1)%e.length],h=t[i<t.length?i:t.length-1];if(0!==h){var m=o.normalise({x:v.y-d.y,y:d.x-v.x}),x=o.normalise({x:y.y-v.y,y:v.x-y.x}),w=Math.sqrt(2*Math.pow(h,2)),S=o.mult(c.clone(m),h),A=o.normalise(o.mult(o.add(m,x),.5)),_=o.sub(v,o.mult(A,w)),C=n;-1===n&&(C=1.75*Math.pow(h,.32)),(C=c.clamp(C,r,l))%2==1&&(C+=1);for(var P=Math.acos(o.dot(m,x)),k=P/C,B=0;B<C;B++)f.push(o.add(o.rotate(S,k*B),_))}else f.push(v)}return f},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort(function(e,n){return o.angle(t,e)-o.angle(t,n)}),e},r.isConvex=function(e){var i,t,n,r,o=0,c=e.length;if(c<3)return null;for(i=0;i<c;i++)if(n=(i+2)%c,r=(e[t=(i+1)%c].x-e[i].x)*(e[n].y-e[t].y),(r-=(e[t].y-e[i].y)*(e[n].x-e[t].x))<0?o|=1:r>0&&(o|=2),3===o)return!1;return 0!==o||null},r.hull=function(e){var t,i,n=[],r=[];for((e=e.slice(0)).sort(function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y}),i=0;i<e.length;i+=1){for(t=e[i];r.length>=2&&o.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];n.length>=2&&o.cross3(n[n.length-2],n[n.length-1],t)<=0;)n.pop();n.push(t)}return n.pop(),r.pop(),n.concat(r)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var r=t.exports=e("../core/Matter");r.Body=e("../body/Body"),r.Composite=e("../body/Composite"),r.World=e("../body/World"),r.Contact=e("../collision/Contact"),r.Detector=e("../collision/Detector"),r.Grid=e("../collision/Grid"),r.Pairs=e("../collision/Pairs"),r.Pair=e("../collision/Pair"),r.Query=e("../collision/Query"),r.Resolver=e("../collision/Resolver"),r.SAT=e("../collision/SAT"),r.Constraint=e("../constraint/Constraint"),r.MouseConstraint=e("../constraint/MouseConstraint"),r.Common=e("../core/Common"),r.Engine=e("../core/Engine"),r.Events=e("../core/Events"),r.Mouse=e("../core/Mouse"),r.Runner=e("../core/Runner"),r.Sleeping=e("../core/Sleeping"),r.Plugin=e("../core/Plugin"),r.Bodies=e("../factory/Bodies"),r.Composites=e("../factory/Composites"),r.Axes=e("../geometry/Axes"),r.Bounds=e("../geometry/Bounds"),r.Svg=e("../geometry/Svg"),r.Vector=e("../geometry/Vector"),r.Vertices=e("../geometry/Vertices"),r.Render=e("../render/Render"),r.RenderPixi=e("../render/RenderPixi"),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,r.Engine.run=r.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var r={};t.exports=r;var o=e("../core/Common"),c=e("../body/Composite"),l=e("../geometry/Bounds"),f=e("../core/Events"),d=e("../collision/Grid"),v=e("../geometry/Vector"),y=e("../core/Mouse");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(o.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){var t={controller:r,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},c=o.extend(t,e);return c.canvas&&(c.canvas.width=c.options.width||c.canvas.width,c.canvas.height=c.options.height||c.canvas.height),c.mouse=e.mouse,c.engine=e.engine,c.canvas=c.canvas||n(c.options.width,c.options.height),c.context=c.canvas.getContext("2d"),c.textures={},c.bounds=c.bounds||{min:{x:0,y:0},max:{x:c.canvas.width,y:c.canvas.height}},1!==c.options.pixelRatio&&r.setPixelRatio(c,c.options.pixelRatio),o.isElement(c.element)?c.element.appendChild(c.canvas):c.canvas.parentNode||o.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),c},r.run=function(t){!function n(time){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.setPixelRatio=function(e,t){var n=e.options,canvas=e.canvas;"auto"===t&&(t=h(canvas)),n.pixelRatio=t,canvas.setAttribute("data-pixel-ratio",t),canvas.width=n.width*t,canvas.height=n.height*t,canvas.style.width=n.width+"px",canvas.style.height=n.height+"px",e.context.scale(t,t)},r.lookAt=function(e,t,n,r){r=void 0===r||r,t=o.isArray(t)?t:[t],n=n||{x:0,y:0};for(var c={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},i=0;i<t.length;i+=1){var object=t[i],l=object.bounds?object.bounds.min:object.min||object.position||object,f=object.bounds?object.bounds.max:object.max||object.position||object;l&&f&&(l.x<c.min.x&&(c.min.x=l.x),f.x>c.max.x&&(c.max.x=f.x),l.y<c.min.y&&(c.min.y=l.y),f.y>c.max.y&&(c.max.y=f.y))}var d=c.max.x-c.min.x+2*n.x,v=c.max.y-c.min.y+2*n.y,h=e.canvas.height,m=e.canvas.width,x=m/h,w=d/v,S=1,A=1;w>x?A=w/x:S=x/w,e.options.hasBounds=!0,e.bounds.min.x=c.min.x,e.bounds.max.x=c.min.x+d*S,e.bounds.min.y=c.min.y,e.bounds.max.y=c.min.y+v*A,r&&(e.bounds.min.x+=.5*d-d*S*.5,e.bounds.max.x+=.5*d-d*S*.5,e.bounds.min.y+=.5*v-v*A*.5,e.bounds.max.y+=.5*v-v*A*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(y.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),y.setOffset(e.mouse,e.bounds.min))},r.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,o=n/e.options.height;e.context.scale(1/r,1/o),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},r.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},r.world=function(e){var i,t=e.engine,n=t.world,canvas=e.canvas,o=e.context,h=e.options,m=c.allBodies(n),w=c.allConstraints(n),S=h.wireframes?h.wireframeBackground:h.background,A=[],_=[],C={timestamp:t.timing.timestamp};if(f.trigger(e,"beforeRender",C),e.currentBackground!==S&&x(e,S),o.globalCompositeOperation="source-in",o.fillStyle="transparent",o.fillRect(0,0,canvas.width,canvas.height),o.globalCompositeOperation="source-over",h.hasBounds){for(i=0;i<m.length;i++){var body=m[i];l.overlaps(body.bounds,e.bounds)&&A.push(body)}for(i=0;i<w.length;i++){var P=w[i],k=P.bodyA,B=P.bodyB,M=P.pointA,j=P.pointB;k&&(M=v.add(k.position,P.pointA)),B&&(j=v.add(B.position,P.pointB)),M&&j&&(l.contains(e.bounds,M)||l.contains(e.bounds,j))&&_.push(P)}r.startViewTransform(e),e.mouse&&(y.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),y.setOffset(e.mouse,e.bounds.min))}else _=w,A=m;!h.wireframes||t.enableSleeping&&h.showSleeping?r.bodies(e,A,o):(h.showConvexHulls&&r.bodyConvexHulls(e,A,o),r.bodyWireframes(e,A,o)),h.showBounds&&r.bodyBounds(e,A,o),(h.showAxes||h.showAngleIndicator)&&r.bodyAxes(e,A,o),h.showPositions&&r.bodyPositions(e,A,o),h.showVelocity&&r.bodyVelocity(e,A,o),h.showIds&&r.bodyIds(e,A,o),h.showSeparations&&r.separations(e,t.pairs.list,o),h.showCollisions&&r.collisions(e,t.pairs.list,o),h.showVertexNumbers&&r.vertexNumbers(e,A,o),h.showMousePosition&&r.mousePosition(e,e.mouse,o),r.constraints(_,o),h.showBroadphase&&t.broadphase.controller===d&&r.grid(e,t.broadphase,o),h.showDebug&&r.debug(e,o),h.hasBounds&&r.endViewTransform(e),f.trigger(e,"afterRender",C)},r.debug=function(e,t){var n=t,r=e.engine,o=r.world,l=r.metrics,f=e.options;if(c.allBodies(o),r.timing.timestamp-(e.debugTimestamp||0)>=500){var text="";l.timing&&(text+="fps: "+Math.round(l.timing.fps)+"    "),e.debugString=text,e.debugTimestamp=r.timing.timestamp}if(e.debugString){n.font="12px Arial",f.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var d=e.debugString.split("\n"),i=0;i<d.length;i++)n.fillText(d[i],50,50+18*i)}},r.constraints=function(e,t){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(r.render.visible&&r.pointA&&r.pointB){var c,l,f=r.bodyA,d=r.bodyB;if(c=f?v.add(f.position,r.pointA):r.pointA,"pin"===r.render.type)n.beginPath(),n.arc(c.x,c.y,3,0,2*Math.PI),n.closePath();else{if(l=d?v.add(d.position,r.pointB):r.pointB,n.beginPath(),n.moveTo(c.x,c.y),"spring"===r.render.type)for(var y,h=v.sub(l,c),m=v.perp(v.normalise(h)),x=Math.ceil(o.clamp(r.length/5,12,20)),w=1;w<x;w+=1)y=w%2==0?1:-1,n.lineTo(c.x+h.x*(w/x)+m.x*y*4,c.y+h.y*(w/x)+m.y*y*4);n.lineTo(l.x,l.y)}r.render.lineWidth&&(n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()),r.render.anchors&&(n.fillStyle=r.render.strokeStyle,n.beginPath(),n.arc(c.x,c.y,3,0,2*Math.PI),n.arc(l.x,l.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},r.bodyShadows=function(e,t,n){for(var r=n,i=(e.engine,0);i<t.length;i++){var body=t[i];if(body.render.visible){if(body.circleRadius)r.beginPath(),r.arc(body.position.x,body.position.y,body.circleRadius,0,2*Math.PI),r.closePath();else{r.beginPath(),r.moveTo(body.vertices[0].x,body.vertices[0].y);for(var o=1;o<body.vertices.length;o++)r.lineTo(body.vertices[o].x,body.vertices[o].y);r.closePath()}var c=body.position.x-.5*e.options.width,l=body.position.y-.2*e.options.height,f=Math.abs(c)+Math.abs(l);r.shadowColor="rgba(0,0,0,0.15)",r.shadowOffsetX=.05*c,r.shadowOffsetY=.05*l,r.shadowBlur=1+12*Math.min(1,f/1e3),r.fill(),r.shadowColor=null,r.shadowOffsetX=null,r.shadowOffsetY=null,r.shadowBlur=null}}},r.bodies=function(e,t,n){var body,r,i,o,c=n,l=(e.engine,e.options),f=l.showInternalEdges||!l.wireframes;for(i=0;i<t.length;i++)if((body=t[i]).render.visible)for(o=body.parts.length>1?1:0;o<body.parts.length;o++)if((r=body.parts[o]).render.visible){if(l.showSleeping&&body.isSleeping?c.globalAlpha=.5*r.render.opacity:1!==r.render.opacity&&(c.globalAlpha=r.render.opacity),r.render.sprite&&r.render.sprite.texture&&!l.wireframes){var d=r.render.sprite,v=m(e,d.texture);c.translate(r.position.x,r.position.y),c.rotate(r.angle),c.drawImage(v,v.width*-d.xOffset*d.xScale,v.height*-d.yOffset*d.yScale,v.width*d.xScale,v.height*d.yScale),c.rotate(-r.angle),c.translate(-r.position.x,-r.position.y)}else{if(r.circleRadius)c.beginPath(),c.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI);else{c.beginPath(),c.moveTo(r.vertices[0].x,r.vertices[0].y);for(var y=1;y<r.vertices.length;y++)!r.vertices[y-1].isInternal||f?c.lineTo(r.vertices[y].x,r.vertices[y].y):c.moveTo(r.vertices[y].x,r.vertices[y].y),r.vertices[y].isInternal&&!f&&c.moveTo(r.vertices[(y+1)%r.vertices.length].x,r.vertices[(y+1)%r.vertices.length].y);c.lineTo(r.vertices[0].x,r.vertices[0].y),c.closePath()}l.wireframes?(c.lineWidth=1,c.strokeStyle="#bbb",c.stroke()):(c.fillStyle=r.render.fillStyle,r.render.lineWidth&&(c.lineWidth=r.render.lineWidth,c.strokeStyle=r.render.strokeStyle,c.stroke()),c.fill())}c.globalAlpha=1}},r.bodyWireframes=function(e,t,n){var body,r,i,o,c,l=n,f=e.options.showInternalEdges;for(l.beginPath(),i=0;i<t.length;i++)if((body=t[i]).render.visible)for(c=body.parts.length>1?1:0;c<body.parts.length;c++){for(r=body.parts[c],l.moveTo(r.vertices[0].x,r.vertices[0].y),o=1;o<r.vertices.length;o++)!r.vertices[o-1].isInternal||f?l.lineTo(r.vertices[o].x,r.vertices[o].y):l.moveTo(r.vertices[o].x,r.vertices[o].y),r.vertices[o].isInternal&&!f&&l.moveTo(r.vertices[(o+1)%r.vertices.length].x,r.vertices[(o+1)%r.vertices.length].y);l.lineTo(r.vertices[0].x,r.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},r.bodyConvexHulls=function(e,t,n){var body,i,r,o=n;for(o.beginPath(),i=0;i<t.length;i++)if((body=t[i]).render.visible&&1!==body.parts.length){for(o.moveTo(body.vertices[0].x,body.vertices[0].y),r=1;r<body.vertices.length;r++)o.lineTo(body.vertices[r].x,body.vertices[r].y);o.lineTo(body.vertices[0].x,body.vertices[0].y)}o.lineWidth=1,o.strokeStyle="rgba(255,255,255,0.2)",o.stroke()},r.vertexNumbers=function(e,t,n){var i,r,o,c=n;for(i=0;i<t.length;i++){var l=t[i].parts;for(o=l.length>1?1:0;o<l.length;o++){var f=l[o];for(r=0;r<f.vertices.length;r++)c.fillStyle="rgba(255,255,255,0.2)",c.fillText(i+"_"+r,f.position.x+.8*(f.vertices[r].x-f.position.x),f.position.y+.8*(f.vertices[r].y-f.position.y))}}},r.mousePosition=function(e,t,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},r.bodyBounds=function(e,t,n){var r=n,o=(e.engine,e.options);r.beginPath();for(var i=0;i<t.length;i++){var body=t[i];if(body.render.visible)for(var c=t[i].parts,l=c.length>1?1:0;l<c.length;l++){var f=c[l];r.rect(f.bounds.min.x,f.bounds.min.y,f.bounds.max.x-f.bounds.min.x,f.bounds.max.y-f.bounds.min.y)}}o.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(e,t,n){var r,i,o,c,l=n,f=(e.engine,e.options);for(l.beginPath(),i=0;i<t.length;i++){var body=t[i],d=body.parts;if(body.render.visible)if(f.showAxes)for(o=d.length>1?1:0;o<d.length;o++)for(r=d[o],c=0;c<r.axes.length;c++){var v=r.axes[c];l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x+20*v.x,r.position.y+20*v.y)}else for(o=d.length>1?1:0;o<d.length;o++)for(r=d[o],c=0;c<r.axes.length;c++)l.moveTo(r.position.x,r.position.y),l.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}f.wireframes?(l.strokeStyle="indianred",l.lineWidth=1):(l.strokeStyle="rgba(255, 255, 255, 0.4)",l.globalCompositeOperation="overlay",l.lineWidth=2),l.stroke(),l.globalCompositeOperation="source-over"},r.bodyPositions=function(e,t,n){var body,r,i,o,c=n,l=(e.engine,e.options);for(c.beginPath(),i=0;i<t.length;i++)if((body=t[i]).render.visible)for(o=0;o<body.parts.length;o++)r=body.parts[o],c.arc(r.position.x,r.position.y,3,0,2*Math.PI,!1),c.closePath();for(l.wireframes?c.fillStyle="indianred":c.fillStyle="rgba(0,0,0,0.5)",c.fill(),c.beginPath(),i=0;i<t.length;i++)(body=t[i]).render.visible&&(c.arc(body.positionPrev.x,body.positionPrev.y,2,0,2*Math.PI,!1),c.closePath());c.fillStyle="rgba(255,165,0,0.8)",c.fill()},r.bodyVelocity=function(e,t,n){var r=n;r.beginPath();for(var i=0;i<t.length;i++){var body=t[i];body.render.visible&&(r.moveTo(body.position.x,body.position.y),r.lineTo(body.position.x+2*(body.position.x-body.positionPrev.x),body.position.y+2*(body.position.y-body.positionPrev.y)))}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(e,t,n){var i,r,o=n;for(i=0;i<t.length;i++)if(t[i].render.visible){var c=t[i].parts;for(r=c.length>1?1:0;r<c.length;r++){var l=c[r];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(l.id,l.position.x+10,l.position.y-10)}}},r.collisions=function(e,t,n){var r,o,i,c,l=n,f=e.options;for(l.beginPath(),i=0;i<t.length;i++)if((r=t[i]).isActive)for(o=r.collision,c=0;c<r.activeContacts.length;c++){var d=r.activeContacts[c],v=d.vertex;l.rect(v.x-1.5,v.y-1.5,3.5,3.5)}for(f.wireframes?l.fillStyle="rgba(255,255,255,0.7)":l.fillStyle="orange",l.fill(),l.beginPath(),i=0;i<t.length;i++)if((r=t[i]).isActive&&(o=r.collision,r.activeContacts.length>0)){var y=r.activeContacts[0].vertex.x,h=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(y=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,h=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),o.bodyB===o.supports[0].body||!0===o.bodyA.isStatic?l.moveTo(y-8*o.normal.x,h-8*o.normal.y):l.moveTo(y+8*o.normal.x,h+8*o.normal.y),l.lineTo(y,h)}f.wireframes?l.strokeStyle="rgba(255,165,0,0.7)":l.strokeStyle="orange",l.lineWidth=1,l.stroke()},r.separations=function(e,t,n){var r,o,c,l,i,f=n,d=e.options;for(f.beginPath(),i=0;i<t.length;i++)if((r=t[i]).isActive){o=r.collision,c=o.bodyA,l=o.bodyB;var v=1;l.isStatic||c.isStatic||(v=.5),l.isStatic&&(v=0),f.moveTo(l.position.x,l.position.y),f.lineTo(l.position.x-o.penetration.x*v,l.position.y-o.penetration.y*v),v=1,l.isStatic||c.isStatic||(v=.5),c.isStatic&&(v=0),f.moveTo(c.position.x,c.position.y),f.lineTo(c.position.x+o.penetration.x*v,c.position.y+o.penetration.y*v)}d.wireframes?f.strokeStyle="rgba(255,165,0,0.5)":f.strokeStyle="orange",f.stroke()},r.grid=function(e,t,n){var r=n,c=e.options;c.wireframes?r.strokeStyle="rgba(255,180,0,0.1)":r.strokeStyle="rgba(255,180,0,0.5)",r.beginPath();for(var l=o.keys(t.buckets),i=0;i<l.length;i++){var f=l[i];if(!(t.buckets[f].length<2)){var d=f.split(/C|R/);r.rect(.5+parseInt(d[1],10)*t.bucketWidth,.5+parseInt(d[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}r.lineWidth=1,r.stroke()},r.inspector=function(e,t){e.engine;var n,r=e.selected,o=e.render,c=o.options;if(c.hasBounds){var l=o.bounds.max.x-o.bounds.min.x,f=o.bounds.max.y-o.bounds.min.y,d=l/o.options.width,v=f/o.options.height;t.scale(1/d,1/v),t.translate(-o.bounds.min.x,-o.bounds.min.y)}for(var i=0;i<r.length;i++){var y=r[i].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),y.type){case"body":n=y.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var h=y.pointA;y.bodyA&&(h=y.pointB),t.beginPath(),t.arc(h.x,h.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),c.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var canvas=document.createElement("canvas");return canvas.width=e,canvas.height=t,canvas.oncontextmenu=function(){return!1},canvas.onselectstart=function(){return!1},canvas},h=function(canvas){var e=canvas.getContext("2d"),t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n},m=function(e,t){var image=e.textures[t];return image||((image=e.textures[t]=new Image).src=t,image)},x=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Bounds"),c=e("../body/Composite"),l=e("../core/Common"),f=e("../core/Events"),d=e("../geometry/Vector");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(l.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){l.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:r,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=l.extend(t,e),o=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:o,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},f.on(n.engine,"beforeUpdate",function(){r.clear(n)}),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),l.isElement(n.element)?n.element.appendChild(n.canvas):l.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},r.run=function(t){!function n(time){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var r=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=r,r&&t.addChildAt(r,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},r.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),r=e.sprites["bg-0"];if(n){var o=l.colorToNumber(t);e.renderer.backgroundColor=o,r&&e.container.removeChild(r)}else if(!r){var c=y(e,t);(r=e.sprites["bg-0"]=new PIXI.Sprite(c)).position.x=0,r.position.y=0,e.container.addChildAt(r,0)}e.currentBackground=t}},r.world=function(e){var i,t=e.engine,n=t.world,l=e.renderer,f=e.container,v=e.options,y=c.allBodies(n),h=c.allConstraints(n),m=[];v.wireframes?r.setBackground(e,v.wireframeBackground):r.setBackground(e,v.background);var x=e.bounds.max.x-e.bounds.min.x,w=e.bounds.max.y-e.bounds.min.y,S=x/e.options.width,A=w/e.options.height;if(v.hasBounds){for(i=0;i<y.length;i++){var body=y[i];body.render.sprite.visible=o.overlaps(body.bounds,e.bounds)}for(i=0;i<h.length;i++){var _=h[i],C=_.bodyA,P=_.bodyB,k=_.pointA,B=_.pointB;C&&(k=d.add(C.position,_.pointA)),P&&(B=d.add(P.position,_.pointB)),k&&B&&(o.contains(e.bounds,k)||o.contains(e.bounds,B))&&m.push(_)}f.scale.set(1/S,1/A),f.position.set(-e.bounds.min.x*(1/S),-e.bounds.min.y*(1/A))}else m=h;for(i=0;i<y.length;i++)r.body(e,y[i]);for(i=0;i<m.length;i++)r.constraint(e,m[i]);l.render(f)},r.constraint=function(e,t){e.engine;var n=t.bodyA,r=t.bodyB,o=t.pointA,c=t.pointB,f=e.container,d=t.render,v="c-"+t.id,y=e.primitives[v];y||(y=e.primitives[v]=new PIXI.Graphics),d.visible&&t.pointA&&t.pointB?(-1===l.indexOf(f.children,y)&&f.addChild(y),y.clear(),y.beginFill(0,0),y.lineStyle(d.lineWidth,l.colorToNumber(d.strokeStyle),1),n?y.moveTo(n.position.x+o.x,n.position.y+o.y):y.moveTo(o.x,o.y),r?y.lineTo(r.position.x+c.x,r.position.y+c.y):y.lineTo(c.x,c.y),y.endFill()):y.clear()},r.body=function(e,body){e.engine;var t=body.render;if(t.visible)if(t.sprite&&t.sprite.texture){var r="b-"+body.id,o=e.sprites[r],c=e.spriteContainer;o||(o=e.sprites[r]=n(e,body)),-1===l.indexOf(c.children,o)&&c.addChild(o),o.position.x=body.position.x,o.position.y=body.position.y,o.rotation=body.angle,o.scale.x=t.sprite.xScale||1,o.scale.y=t.sprite.yScale||1}else{var f="b-"+body.id,d=e.primitives[f],y=e.container;d||((d=e.primitives[f]=v(e,body)).initialAngle=body.angle),-1===l.indexOf(y.children,d)&&y.addChild(d),d.position.x=body.position.x,d.position.y=body.position.y,d.rotation=body.angle-d.initialAngle}};var n=function(e,body){var t=body.render,n=t.sprite.texture,r=y(e,n),o=new PIXI.Sprite(r);return o.anchor.x=body.render.sprite.xOffset,o.anchor.y=body.render.sprite.yOffset,o},v=function(e,body){var t,n=body.render,r=e.options,o=new PIXI.Graphics,c=l.colorToNumber(n.fillStyle),f=l.colorToNumber(n.strokeStyle),d=l.colorToNumber(n.strokeStyle),v=l.colorToNumber("#bbb"),y=l.colorToNumber("#CD5C5C");o.clear();for(var h=body.parts.length>1?1:0;h<body.parts.length;h++){t=body.parts[h],r.wireframes?(o.beginFill(0,0),o.lineStyle(1,v,1)):(o.beginFill(c,1),o.lineStyle(n.lineWidth,f,1)),o.moveTo(t.vertices[0].x-body.position.x,t.vertices[0].y-body.position.y);for(var m=1;m<t.vertices.length;m++)o.lineTo(t.vertices[m].x-body.position.x,t.vertices[m].y-body.position.y);o.lineTo(t.vertices[0].x-body.position.x,t.vertices[0].y-body.position.y),o.endFill(),(r.showAngleIndicator||r.showAxes)&&(o.beginFill(0,0),r.wireframes?o.lineStyle(1,y,1):o.lineStyle(1,d),o.moveTo(t.position.x-body.position.x,t.position.y-body.position.y),o.lineTo((t.vertices[0].x+t.vertices[t.vertices.length-1].x)/2-body.position.x,(t.vertices[0].y+t.vertices[t.vertices.length-1].y)/2-body.position.y),o.endFill())}return o},y=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)}).call(this,n(25))},function(e,t,n){"use strict";(function(t){var r=n(195);function o(a,b){if(a===b)return 0;for(var e=a.length,t=b.length,i=0,n=Math.min(e,t);i<n;++i)if(a[i]!==b[i]){e=a[i],t=b[i];break}return e<t?-1:t<e?1:0}function c(b){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}var l=n(196),f=Object.prototype.hasOwnProperty,d=Array.prototype.slice,v="foo"===function(){}.name;function y(e){return Object.prototype.toString.call(e)}function h(e){return!c(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var m=e.exports=C,x=/\s*function\s+([^\(\s]*)\s*/;function w(e){if(l.isFunction(e)){if(v)return e.name;var t=e.toString().match(x);return t&&t[1]}}function S(s,e){return"string"==typeof s?s.length<e?s:s.slice(0,e):s}function A(e){if(v||!l.isFunction(e))return l.inspect(e);var t=w(e);return"[Function"+(t?": "+t:"")+"]"}function _(e,t,n,r,o){throw new m.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function C(e,t){e||_(e,!0,t,"==",m.ok)}function P(e,t,n,r){if(e===t)return!0;if(c(e)&&c(t))return 0===o(e,t);if(l.isDate(e)&&l.isDate(t))return e.getTime()===t.getTime();if(l.isRegExp(e)&&l.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(h(e)&&h(t)&&y(e)===y(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(c(e)!==c(t))return!1;var f=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==f&&f===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(a,b,e,t){if(null==a||null==b)return!1;if(l.isPrimitive(a)||l.isPrimitive(b))return a===b;if(e&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var n=k(a),r=k(b);if(n&&!r||!n&&r)return!1;if(n)return a=d.call(a),b=d.call(b),P(a,b,e);var o,i,c=j(a),f=j(b);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),i=c.length-1;i>=0;i--)if(c[i]!==f[i])return!1;for(i=c.length-1;i>=0;i--)if(o=c[i],!P(a[o],b[o],e,t))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function k(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function B(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function M(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&_(o,n,"Missing expected exception"+r);var c="string"==typeof r,f=!e&&o&&!n;if((!e&&l.isError(o)&&c&&B(o,n)||f)&&_(o,n,"Got unwanted exception"+r),e&&o&&n&&!B(o,n)||!e&&o)throw o}m.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return S(A(e.actual),128)+" "+e.operator+" "+S(A(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||_;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=w(t),c=r.indexOf("\n"+o);if(c>=0){var l=r.indexOf("\n",c+1);r=r.substring(l+1)}this.stack=r}}},l.inherits(m.AssertionError,Error),m.fail=_,m.ok=C,m.equal=function(e,t,n){e!=t&&_(e,t,n,"==",m.equal)},m.notEqual=function(e,t,n){e==t&&_(e,t,n,"!=",m.notEqual)},m.deepEqual=function(e,t,n){P(e,t,!1)||_(e,t,n,"deepEqual",m.deepEqual)},m.deepStrictEqual=function(e,t,n){P(e,t,!0)||_(e,t,n,"deepStrictEqual",m.deepStrictEqual)},m.notDeepEqual=function(e,t,n){P(e,t,!1)&&_(e,t,n,"notDeepEqual",m.notDeepEqual)},m.notDeepStrictEqual=function e(t,n,r){P(t,n,!0)&&_(t,n,r,"notDeepStrictEqual",e)},m.strictEqual=function(e,t,n){e!==t&&_(e,t,n,"===",m.strictEqual)},m.notStrictEqual=function(e,t,n){e===t&&_(e,t,n,"!==",m.notStrictEqual)},m.throws=function(e,t,n){M(!0,e,t,n)},m.doesNotThrow=function(e,t,n){M(!1,e,t,n)},m.ifError=function(e){if(e)throw e},m.strict=r(function e(t,n){t||_(t,!0,n,"==",e)},m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict;var j=Object.keys||function(e){var t=[];for(var n in e)f.call(e,n)&&t.push(n);return t}}).call(this,n(25))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function l(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,source){for(var t,n,f=l(e),s=1;s<arguments.length;s++){for(var d in t=Object(arguments[s]))o.call(t,d)&&(f[d]=t[d]);if(r){n=r(t);for(var i=0;i<n.length;i++)c.call(t,n[i])&&(f[n[i]]=t[n[i]])}}return f}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},o=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(f(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,r=n.length,c=String(e).replace(o,function(e){if("%%"===e)return"%";if(i>=r)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}}),l=n[i];i<r;l=n[++i])S(l)||!k(l)?c+=" "+l:c+=" "+f(l);return c},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var c,l={};function f(e,n){var r={seen:[],stylize:v};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),w(n)?r.showHidden=n:n&&t._extend(r,n),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=d),y(r,e,r.depth)}function d(e,t){var style=f.styles[t];return style?"["+f.colors[style][0]+"m"+e+"["+f.colors[style][1]+"m":e}function v(e,t){return e}function y(e,n,r){if(e.customInspect&&n&&j(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return _(o)||(o=y(e,o,r)),o}var c=function(e,t){if(C(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(A(t))return e.stylize(""+t,"number");if(w(t))return e.stylize(""+t,"boolean");if(S(t))return e.stylize("null","null")}(e,n);if(c)return c;var l=Object.keys(n),f=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(l);if(e.showHidden&&(l=Object.getOwnPropertyNames(n)),M(n)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return h(n);if(0===l.length){if(j(n)){var d=n.name?": "+n.name:"";return e.stylize("[Function"+d+"]","special")}if(P(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(B(n))return e.stylize(Date.prototype.toString.call(n),"date");if(M(n))return h(n)}var output,base="",v=!1,k=["{","}"];(x(n)&&(v=!0,k=["[","]"]),j(n))&&(base=" [Function"+(n.name?": "+n.name:"")+"]");return P(n)&&(base=" "+RegExp.prototype.toString.call(n)),B(n)&&(base=" "+Date.prototype.toUTCString.call(n)),M(n)&&(base=" "+h(n)),0!==l.length||v&&0!=n.length?r<0?P(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),output=v?function(e,t,n,r,o){for(var output=[],i=0,c=t.length;i<c;++i)V(t,String(i))?output.push(m(e,t,n,r,String(i),!0)):output.push("");return o.forEach(function(o){o.match(/^\d+$/)||output.push(m(e,t,n,r,o,!0))}),output}(e,n,r,f,l):l.map(function(t){return m(e,n,r,f,t,v)}),e.seen.pop(),function(output,base,e){if(output.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return e[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+e[1];return e[0]+base+" "+output.join(", ")+" "+e[1]}(output,base,k)):k[0]+base+k[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,n,r,o,c){var l,f,desc;if((desc=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?f=desc.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):desc.set&&(f=e.stylize("[Setter]","special")),V(r,o)||(l="["+o+"]"),f||(e.seen.indexOf(desc.value)<0?(f=S(n)?y(e,desc.value,null):y(e,desc.value,n-1)).indexOf("\n")>-1&&(f=c?f.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+f.split("\n").map(function(line){return"   "+line}).join("\n")):f=e.stylize("[Circular]","special")),C(l)){if(c&&o.match(/^\d+$/))return f;(l=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),l=e.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),l=e.stylize(l,"string"))}return l+": "+f}function x(e){return Array.isArray(e)}function w(e){return"boolean"==typeof e}function S(e){return null===e}function A(e){return"number"==typeof e}function _(e){return"string"==typeof e}function C(e){return void 0===e}function P(e){return k(e)&&"[object RegExp]"===O(e)}function k(e){return"object"==typeof e&&null!==e}function B(e){return k(e)&&"[object Date]"===O(e)}function M(e){return k(e)&&("[object Error]"===O(e)||e instanceof Error)}function j(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(C(c)&&(c=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!l[n])if(new RegExp("\\b"+n+"\\b","i").test(c)){var r=e.pid;l[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else l[n]=function(){};return l[n]},t.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=x,t.isBoolean=w,t.isNull=S,t.isNullOrUndefined=function(e){return null==e},t.isNumber=A,t.isString=_,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=C,t.isRegExp=P,t.isObject=k,t.isDate=B,t.isError=M,t.isFunction=j,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(197);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,time=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],time].join(" ")}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(198),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function F(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,r){e?n(e):t(r)});try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=R,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,c=function(){return r.apply(o,arguments)};t.apply(this,n).then(function(t){e.nextTick(c,null,t)},function(t){e.nextTick(F,t,c)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(104))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(200),o=n(203),c=n(282);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),c):void 0}},function(e,t,n){var r=n(149);e.exports=function(e,t,n){for(var o=-1,c=e.length;++o<c;){var l=e[o],f=t(l);if(null!=f&&(void 0===d?f==f&&!r(f):n(f,d)))var d=f,v=l}return v}},function(e,t,n){var r=n(150),o=Object.prototype,c=o.hasOwnProperty,l=o.toString,f=r?r.toStringTag:void 0;e.exports=function(e){var t=c.call(e,f),n=e[f];try{e[f]=void 0;var r=!0}catch(e){}var o=l.call(e);return r&&(t?e[f]=n:delete e[f]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(204),o=n(267),c=n(278),l=n(145),f=n(279);e.exports=function(e){return"function"==typeof e?e:null==e?c:"object"==typeof e?l(e)?o(e[0],e[1]):r(e):f(e)}},function(e,t,n){var r=n(205),o=n(266),c=n(182);e.exports=function(source){var e=o(source);return 1==e.length&&e[0][2]?c(e[0][0],e[0][1]):function(object){return object===source||r(object,source,e)}}},function(e,t,n){var r=n(169),o=n(173),c=1,l=2;e.exports=function(object,source,e,t){var n=e.length,f=n,d=!t;if(null==object)return!f;for(object=Object(object);n--;){var data=e[n];if(d&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++n<f;){var v=(data=e[n])[0],y=object[v],h=data[1];if(d&&data[2]){if(void 0===y&&!(v in object))return!1}else{var m=new r;if(t)var x=t(y,h,v,object,source,m);if(!(void 0===x?o(h,y,c|l,t,m):x))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(152),o=Array.prototype.splice;e.exports=function(e){var data=this.__data__,t=r(data,e);return!(t<0||(t==data.length-1?data.pop():o.call(data,t,1),--this.size,0))}},function(e,t,n){var r=n(152);e.exports=function(e){var data=this.__data__,t=r(data,e);return t<0?void 0:data[t][1]}},function(e,t,n){var r=n(152);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(152);e.exports=function(e,t){var data=this.__data__,n=r(data,e);return n<0?(++this.size,data.push([e,t])):data[n][1]=t,this}},function(e,t,n){var r=n(151);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var data=this.__data__,t=data.delete(e);return this.size=data.size,t}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(151),o=n(157),c=n(159),l=200;e.exports=function(e,t){var data=this.__data__;if(data instanceof r){var n=data.__data__;if(!o||n.length<l-1)return n.push([e,t]),this.size=++data.size,this;data=this.__data__=new c(n)}return data.set(e,t),this.size=data.size,this}},function(e,t,n){var r=n(171),o=n(217),c=n(158),l=n(172),f=/^\[object .+?Constructor\]$/,d=Function.prototype,v=Object.prototype,y=d.toString,h=v.hasOwnProperty,m=RegExp("^"+y.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!c(e)||o(e))&&(r(e)?m:f).test(l(e))}},function(e,t,n){var r,o=n(218),c=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!c&&c in e}},function(e,t,n){var r=n(144)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(object,e){return null==object?void 0:object[e]}},function(e,t,n){var r=n(221),o=n(151),c=n(157);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(c||o),string:new r}}},function(e,t,n){var r=n(222),o=n(223),c=n(224),l=n(225),f=n(226);function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=o,d.prototype.get=c,d.prototype.has=l,d.prototype.set=f,e.exports=d},function(e,t,n){var r=n(153);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(153),o="__lodash_hash_undefined__",c=Object.prototype.hasOwnProperty;e.exports=function(e){var data=this.__data__;if(r){var t=data[e];return t===o?void 0:t}return c.call(data,e)?data[e]:void 0}},function(e,t,n){var r=n(153),o=Object.prototype.hasOwnProperty;e.exports=function(e){var data=this.__data__;return r?void 0!==data[e]:o.call(data,e)}},function(e,t,n){var r=n(153),o="__lodash_hash_undefined__";e.exports=function(e,t){var data=this.__data__;return this.size+=this.has(e)?0:1,data[e]=r&&void 0===t?o:t,this}},function(e,t,n){var r=n(154);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(154);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(154);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(154);e.exports=function(e,t){var data=r(this,e),n=data.size;return data.set(e,t),this.size+=data.size==n?0:1,this}},function(e,t,n){var r=n(169),o=n(174),c=n(238),l=n(242),f=n(261),d=n(145),v=n(177),y=n(180),h=1,m="[object Arguments]",x="[object Array]",w="[object Object]",S=Object.prototype.hasOwnProperty;e.exports=function(object,e,t,n,A,_){var C=d(object),P=d(e),k=C?x:f(object),B=P?x:f(e),M=(k=k==m?w:k)==w,j=(B=B==m?w:B)==w,O=k==B;if(O&&v(object)){if(!v(e))return!1;C=!0,M=!1}if(O&&!M)return _||(_=new r),C||y(object)?o(object,e,t,n,A,_):c(object,e,k,t,n,A,_);if(!(t&h)){var I=M&&S.call(object,"__wrapped__"),E=j&&S.call(e,"__wrapped__");if(I||E){var T=I?object.value():object,V=E?e.value():e;return _||(_=new r),A(T,V,t,n,_)}}return!!O&&(_||(_=new r),l(object,e,t,n,A,_))}},function(e,t,n){var r=n(159),o=n(234),c=n(235);function l(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}l.prototype.add=l.prototype.push=o,l.prototype.has=c,e.exports=l},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(150),o=n(239),c=n(170),l=n(174),f=n(240),d=n(241),v=1,y=2,h="[object Boolean]",m="[object Date]",x="[object Error]",w="[object Map]",S="[object Number]",A="[object RegExp]",_="[object Set]",C="[object String]",P="[object Symbol]",k="[object ArrayBuffer]",B="[object DataView]",M=r?r.prototype:void 0,j=M?M.valueOf:void 0;e.exports=function(object,e,t,n,r,M,O){switch(t){case B:if(object.byteLength!=e.byteLength||object.byteOffset!=e.byteOffset)return!1;object=object.buffer,e=e.buffer;case k:return!(object.byteLength!=e.byteLength||!M(new o(object),new o(e)));case h:case m:case S:return c(+object,+e);case x:return object.name==e.name&&object.message==e.message;case A:case C:return object==e+"";case w:var I=f;case _:var E=n&v;if(I||(I=d),object.size!=e.size&&!E)return!1;var T=O.get(object);if(T)return T==e;n|=y,O.set(object,e);var V=l(I(object),I(e),n,r,M,O);return O.delete(object),V;case P:if(j)return j.call(object)==j.call(e)}return!1}},function(e,t,n){var r=n(144).Uint8Array;e.exports=r},function(e,t){e.exports=function(map){var e=-1,t=Array(map.size);return map.forEach(function(n,r){t[++e]=[r,n]}),t}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(243),o=1,c=Object.prototype.hasOwnProperty;e.exports=function(object,e,t,n,l,f){var d=t&o,v=r(object),y=v.length;if(y!=r(e).length&&!d)return!1;for(var h=y;h--;){var m=v[h];if(!(d?m in e:c.call(e,m)))return!1}var x=f.get(object);if(x&&f.get(e))return x==e;var w=!0;f.set(object,e),f.set(e,object);for(var S=d;++h<y;){var A=object[m=v[h]],_=e[m];if(n)var C=d?n(_,A,m,e,object,f):n(A,_,m,object,e,f);if(!(void 0===C?A===_||l(A,_,t,n,f):C)){w=!1;break}S||(S="constructor"==m)}if(w&&!S){var P=object.constructor,k=e.constructor;P!=k&&"constructor"in object&&"constructor"in e&&!("function"==typeof P&&P instanceof P&&"function"==typeof k&&k instanceof k)&&(w=!1)}return f.delete(object),f.delete(e),w}},function(e,t,n){var r=n(244),o=n(246),c=n(175);e.exports=function(object){return r(object,c,o)}},function(e,t,n){var r=n(245),o=n(145);e.exports=function(object,e,t){var n=e(object);return o(object)?n:r(n,t(object))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(247),o=n(248),c=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,f=l?function(object){return null==object?[]:(object=Object(object),r(l(object),function(symbol){return c.call(object,symbol)}))}:o;e.exports=f},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,c=[];++n<r;){var l=e[n];t(l,n,e)&&(c[o++]=l)}return c}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(250),o=n(176),c=n(145),l=n(177),f=n(179),d=n(180),v=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=c(e),y=!n&&o(e),h=!n&&!y&&l(e),m=!n&&!y&&!h&&d(e),x=n||y||h||m,w=x?r(e.length,String):[],S=w.length;for(var A in e)!t&&!v.call(e,A)||x&&("length"==A||h&&("offset"==A||"parent"==A)||m&&("buffer"==A||"byteLength"==A||"byteOffset"==A)||f(A,S))||w.push(A);return w}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(147),o=n(148),c="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==c}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(147),o=n(160),c=n(148),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=function(e){return c(e)&&o(e.length)&&!!l[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(168),o=t&&!t.nodeType&&t,c=o&&"object"==typeof e&&e&&!e.nodeType&&e,l=c&&c.exports===o&&r.process,f=function(){try{var e=c&&c.require&&c.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(e){}}();e.exports=f}).call(this,n(178)(e))},function(e,t,n){var r=n(257),o=n(258),c=Object.prototype.hasOwnProperty;e.exports=function(object){if(!r(object))return o(object);var e=[];for(var t in Object(object))c.call(object,t)&&"constructor"!=t&&e.push(t);return e}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(259)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(171),o=n(160);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(262),o=n(157),c=n(263),l=n(264),f=n(265),d=n(147),v=n(172),y=v(r),h=v(o),m=v(c),x=v(l),w=v(f),S=d;(r&&"[object DataView]"!=S(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=S(new o)||c&&"[object Promise]"!=S(c.resolve())||l&&"[object Set]"!=S(new l)||f&&"[object WeakMap]"!=S(new f))&&(S=function(e){var t=d(e),n="[object Object]"==t?e.constructor:void 0,r=n?v(n):"";if(r)switch(r){case y:return"[object DataView]";case h:return"[object Map]";case m:return"[object Promise]";case x:return"[object Set]";case w:return"[object WeakMap]"}return t}),e.exports=S},function(e,t,n){var r=n(146)(n(144),"DataView");e.exports=r},function(e,t,n){var r=n(146)(n(144),"Promise");e.exports=r},function(e,t,n){var r=n(146)(n(144),"Set");e.exports=r},function(e,t,n){var r=n(146)(n(144),"WeakMap");e.exports=r},function(e,t,n){var r=n(181),o=n(175);e.exports=function(object){for(var e=o(object),t=e.length;t--;){var n=e[t],c=object[n];e[t]=[n,c,r(c)]}return e}},function(e,t,n){var r=n(173),o=n(268),c=n(275),l=n(161),f=n(181),d=n(182),v=n(155),y=1,h=2;e.exports=function(path,e){return l(path)&&f(e)?d(v(path),e):function(object){var t=o(object,path);return void 0===t&&t===e?c(object,path):r(e,t,y|h)}}},function(e,t,n){var r=n(183);e.exports=function(object,path,e){var t=null==object?void 0:r(object,path);return void 0===t?e:t}},function(e,t,n){var r=n(270),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(c,"$1"):n||e)}),t});e.exports=l},function(e,t,n){var r=n(271),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(159),o="Expected a function";function c(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],c=n.cache;if(c.has(o))return c.get(o);var l=e.apply(this,r);return n.cache=c.set(o,l)||c,l};return n.cache=new(c.Cache||r),n}c.Cache=r,e.exports=c},function(e,t,n){var r=n(273);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(150),o=n(274),c=n(145),l=n(149),f=1/0,d=r?r.prototype:void 0,v=d?d.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(c(t))return o(t,e)+"";if(l(t))return v?v.call(t):"";var n=t+"";return"0"==n&&1/t==-f?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(276),o=n(277);e.exports=function(object,path){return null!=object&&o(object,path,r)}},function(e,t){e.exports=function(object,e){return null!=object&&e in Object(object)}},function(e,t,n){var r=n(184),o=n(176),c=n(145),l=n(179),f=n(160),d=n(155);e.exports=function(object,path,e){for(var t=-1,n=(path=r(path,object)).length,v=!1;++t<n;){var y=d(path[t]);if(!(v=null!=object&&e(object,y)))break;object=object[y]}return v||++t!=n?v:!!(n=null==object?0:object.length)&&f(n)&&l(y,n)&&(c(object)||o(object))}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(280),o=n(281),c=n(161),l=n(155);e.exports=function(path){return c(path)?r(l(path)):o(path)}},function(e,t){e.exports=function(e){return function(object){return null==object?void 0:object[e]}}},function(e,t,n){var r=n(183);e.exports=function(path){return function(object){return r(object,path)}}},function(e,t){e.exports=function(e,t){return e<t}},function(e,t,n){"use strict";var r=n(284),o=n(292),c=n(187);function l(a,b){return a-b}e.exports=function(e){var t=e.length;if(0===t)return{cells:[],positions:[]};var n=e[0].length;if(n<1)return{cells:[],positions:[]};if(1===n)return function(e){if(1===e.length)return{cells:[[-1]],positions:[]};var t=e.map(function(p,i){return[p[0],i]});t.sort(function(a,b){return a-b});for(var n=new Array(e.length),i=0;i<n.length;++i)n[i]=[-1,-1];for(var r=[],o=1;o<t.length;++o){var a=t[o-1],b=t[o],c=.5*(a[0]+b[0]),l=r.length;r.push([c]),n[a[1]][1]=l,n[b[1]][0]=l}return n[t[0][1]][1]=0,n[t[t.length-1][1]][0]=r.length-1,{cells:n,positions:r}}(e);for(var f=r(e,!0),d=new Array(t),i=0;i<t;++i)d[i]=[];for(var v,y=f.length,h=new Array(n+1),m=new Array(y),x=[],i=0;i<y;++i){for(var w=f[i],S=!1,A=0;A<=n;++A){var _=w[A];_<0?(m[i]=-1,S=!0):(d[_].push(i),h[A]=e[_])}S||(m[i]=x.length,x.push(o(h)))}if(2===n){v=new Array(t);for(var i=0;i<t;++i){for(var C=d[i],P=[m[C[0]]],s=f[C[0]][(f[C[0]].indexOf(i)+1)%3],A=1;A<C.length;++A)for(var k=1;k<C.length;++k){var B=(f[C[k]].indexOf(i)+2)%3;if(f[C[k]][B]===s){P.push(m[C[k]]),s=f[C[k]][(B+2)%3];break}}v[i]=P}}else{for(var i=0;i<t;++i){for(var s=d[i],A=0;A<s.length;++A)s[A]=m[s[A]];c(s,l)}v=d}return{cells:v,positions:x}}},function(e,t,n){"use strict";var r=n(285),o=n(187);function c(p,i){this.point=p,this.index=i}function l(a,b){for(var e=a.point,t=b.point,n=e.length,i=0;i<n;++i){var s=t[i]-e[i];if(s)return s}return 0}e.exports=function(e,t){var n=e.length;if(0===n)return[];var f=e[0].length;if(f<1)return[];if(1===f)return function(e,t,n){if(1===e)return n?[[-1,0]]:[];var r=t.map(function(p,i){return[p[0],i]});r.sort(function(a,b){return a[0]-b[0]});for(var o=new Array(e-1),i=1;i<e;++i){var a=r[i-1],b=r[i];o[i-1]=[a[1],b[1]]}n&&o.push([-1,o[0][1]],[o[e-1][1],-1]);return o}(n,e,t);for(var d=new Array(n),v=1,i=0;i<n;++i){for(var p=e[i],y=new Array(f+1),h=0,m=0;m<f;++m){var x=p[m];y[m]=x,h+=x*x}y[f]=h,d[i]=new c(y,i),v=Math.max(h,v)}o(d,l),n=d.length;for(var w=new Array(n+f+1),S=new Array(n+f+1),u=(f+1)*(f+1)*v,A=new Array(f+1),i=0;i<=f;++i)A[i]=0;A[f]=u,w[0]=A.slice(),S[0]=-1;for(var i=0;i<=f;++i){var y=A.slice();y[i]=1,w[i+1]=y,S[i+1]=-1}for(var i=0;i<n;++i){var _=d[i];w[i+f+1]=_.point,S[i+f+1]=_.index}var C=r(w,!1);C=t?C.filter(function(e){for(var t=0,n=0;n<=f;++n){var r=S[e[n]];if(r<0&&++t>=2)return!1;e[n]=r}return!0}):C.filter(function(e){for(var i=0;i<=f;++i){var t=S[e[i]];if(t<0)return!1;e[i]=t}return!0});if(1&f)for(var i=0;i<C.length;++i){var _=C[i],y=_[0];_[0]=_[1],_[1]=y}return C}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.length;if(0===n)throw new Error("Must have at least d+1 points");var o=e[0].length;if(n<=o)throw new Error("Must input at least d+1 points");var l=e.slice(0,o+1),f=r.apply(void 0,l);if(0===f)throw new Error("Input not in general position");for(var d=new Array(o+1),i=0;i<=o;++i)d[i]=i;f<0&&(d[0]=1,d[1]=0);for(var y=new c(d,new Array(o+1),!1),h=y.adjacent,m=new Array(o+2),i=0;i<=o;++i){for(var x=d.slice(),w=0;w<=o;++w)w===i&&(x[w]=-1);var S=x[0];x[0]=x[1],x[1]=S;var A=new c(x,new Array(o+1),!0);h[i]=A,m[i]=A}m[o+1]=y;for(var i=0;i<=o;++i)for(var x=h[i].vertices,_=h[i].adjacent,w=0;w<=o;++w){var C=x[w];if(C<0)_[w]=y;else for(var P=0;P<=o;++P)h[P].vertices.indexOf(C)<0&&(_[w]=h[P])}for(var k=new v(o,l,m),B=!!t,i=o+1;i<n;++i)k.insert(e[i],B);return k.boundary()};var r=n(286),o=n(289).compareCells;function c(e,t,n){this.vertices=e,this.adjacent=t,this.boundary=n,this.lastVisited=-1}function l(e,t,n){this.vertices=e,this.cell=t,this.index=n}function f(a,b){return o(a.vertices,b.vertices)}c.prototype.flip=function(){var e=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=e;var u=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=u};var d=[];function v(e,t,n){this.dimension=e,this.vertices=t,this.simplices=n,this.interior=n.filter(function(e){return!e.boundary}),this.tuple=new Array(e+1);for(var i=0;i<=e;++i)this.tuple[i]=this.vertices[i];var o=d[e];o||(o=d[e]=function(e){for(var code=["function orient(){var tuple=this.tuple;return test("],i=0;i<=e;++i)i>0&&code.push(","),code.push("tuple[",i,"]");code.push(")}return orient");var t=new Function("test",code.join("")),n=r[e+1];return n||(n=r),t(n)}(e)),this.orient=o}var y=v.prototype;y.handleBoundaryDegeneracy=function(e,t){var n=this.dimension,r=this.vertices.length-1,o=this.tuple,c=this.vertices,l=[e];for(e.lastVisited=-r;l.length>0;){(e=l.pop()).vertices;for(var f=e.adjacent,i=0;i<=n;++i){var d=f[i];if(d.boundary&&!(d.lastVisited<=-r)){for(var v=d.vertices,y=0;y<=n;++y){var h=v[y];o[y]=h<0?t:c[h]}var m=this.orient();if(m>0)return d;d.lastVisited=-r,0===m&&l.push(d)}}}return null},y.walk=function(e,t){var n=this.vertices.length-1,r=this.dimension,o=this.vertices,c=this.tuple,l=t?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[l];e:for(;!f.boundary;){for(var d=f.vertices,v=f.adjacent,i=0;i<=r;++i)c[i]=o[d[i]];f.lastVisited=n;for(i=0;i<=r;++i){var y=v[i];if(!(y.lastVisited>=n)){var h=c[i];c[i]=e;var m=this.orient();if(c[i]=h,m<0){f=y;continue e}y.boundary?y.lastVisited=-n:y.lastVisited=n}}return}return f},y.addPeaks=function(e,t){var n=this.vertices.length-1,r=this.dimension,o=this.vertices,d=this.tuple,v=this.interior,y=this.simplices,h=[t];t.lastVisited=n,t.vertices[t.vertices.indexOf(-1)]=n,t.boundary=!1,v.push(t);for(var m=[];h.length>0;){var x=(t=h.pop()).vertices,w=t.adjacent,S=x.indexOf(n);if(!(S<0))for(var i=0;i<=r;++i)if(i!==S){var A=w[i];if(A.boundary&&!(A.lastVisited>=n)){var _=A.vertices;if(A.lastVisited!==-n){for(var C=0,P=0;P<=r;++P)_[P]<0?(C=P,d[P]=e):d[P]=o[_[P]];if(this.orient()>0){_[C]=n,A.boundary=!1,v.push(A),h.push(A),A.lastVisited=n;continue}A.lastVisited=-n}var k=A.adjacent,B=x.slice(),M=w.slice(),j=new c(B,M,!0);y.push(j);var O=k.indexOf(t);if(!(O<0)){k[O]=j,M[S]=A,B[i]=-1,M[i]=t,w[i]=j,j.flip();for(P=0;P<=r;++P){var I=B[P];if(!(I<0||I===n)){for(var E=new Array(r-1),T=0,V=0;V<=r;++V){var R=B[V];R<0||V===P||(E[T++]=R)}m.push(new l(E,j,P))}}}}}}m.sort(f);for(i=0;i+1<m.length;i+=2){var a=m[i],b=m[i+1],F=a.index,D=b.index;F<0||D<0||(a.cell.adjacent[a.index]=b.cell,b.cell.adjacent[b.index]=a.cell)}},y.insert=function(e,t){var n=this.vertices;n.push(e);var r=this.walk(e,t);if(r){for(var o=this.dimension,c=this.tuple,i=0;i<=o;++i){var l=r.vertices[i];c[i]=l<0?e:n[l]}var f=this.orient(c);f<0||(0!==f||(r=this.handleBoundaryDegeneracy(r,e)))&&this.addPeaks(e,r)}},y.boundary=function(){for(var e=this.dimension,t=[],n=this.simplices,r=n.length,i=0;i<r;++i){var o=n[i];if(o.boundary){for(var c=new Array(e),l=o.vertices,f=0,d=0,v=0;v<=e;++v)l[v]>=0?c[f++]=l[v]:d=1&v;if(d===(1&e)){var y=c[0];c[0]=c[1],c[1]=y}t.push(c)}}return t}},function(e,t,n){"use strict";var r=n(162),o=n(185),c=n(186),l=n(288),f=5;function d(e,t){for(var n=new Array(e.length-1),i=1;i<e.length;++i)for(var r=n[i-1]=new Array(e.length-1),o=0,c=0;o<e.length;++o)o!==t&&(r[c++]=e[i][o]);return n}function v(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",v(e.slice(0,t)),",",v(e.slice(t)),")"].join("")}function y(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],i=0;i<e.length;++i)t.push(["scale(",v(y(d(e,i))),",",(n=i,1&n?"-":""),e[0][i],")"].join(""));return t;var n}function h(e){for(var t=[],n=[],f=function(e){for(var t=new Array(e),i=0;i<e;++i){t[i]=new Array(e);for(var n=0;n<e;++n)t[i][n]=["m",n,"[",e-i-1,"]"].join("")}return t}(e),h=[],i=0;i<e;++i)0==(1&i)?t.push.apply(t,y(d(f,i))):n.push.apply(n,y(d(f,i))),h.push("m"+i);var m=v(t),x=v(n),w="orientation"+e+"Exact",code=["function ",w,"(",h.join(),"){var p=",m,",n=",x,",d=sub(p,n);return d[d.length-1];};return ",w].join("");return new Function("sum","prod","scale","sub",code)(o,r,c,l)}var m=h(3),x=h(4),w=[function(){return 0},function(){return 0},function(a,b){return b[0]-a[0]},function(a,b,e){var s,t=(a[1]-e[1])*(b[0]-e[0]),n=(a[0]-e[0])*(b[1]-e[1]),r=t-n;if(t>0){if(n<=0)return r;s=t+n}else{if(!(t<0))return r;if(n>=0)return r;s=-(t+n)}var o=3.3306690738754716e-16*s;return r>=o||r<=-o?r:m(a,b,e)},function(a,b,e,t){var n=a[0]-t[0],r=b[0]-t[0],o=e[0]-t[0],c=a[1]-t[1],l=b[1]-t[1],f=e[1]-t[1],d=a[2]-t[2],v=b[2]-t[2],y=e[2]-t[2],h=r*f,m=o*l,w=o*c,S=n*f,A=n*l,_=r*c,C=d*(h-m)+v*(w-S)+y*(A-_),P=7.771561172376103e-16*((Math.abs(h)+Math.abs(m))*Math.abs(d)+(Math.abs(w)+Math.abs(S))*Math.abs(v)+(Math.abs(A)+Math.abs(_))*Math.abs(y));return C>P||-C>P?C:x(a,b,e,t)}];function S(e){var t=w[e.length];return t||(t=w[e.length]=h(e.length)),t.apply(void 0,e)}!function(){for(;w.length<=f;)w.push(h(w.length));for(var t=[],n=["slow"],i=0;i<=f;++i)t.push("a"+i),n.push("o"+i);var code=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=f;++i)code.push("case ",i,":return o",i,"(",t.slice(0,i).join(),");");code.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(code.join(""));var r=Function.apply(void 0,n);for(e.exports=r.apply(void 0,[S].concat(w)),i=0;i<=f;++i)e.exports[i]=w[i]}()},function(e,t,n){"use strict";e.exports=function(a,b,e){var t=a+b,n=t-a,br=b-n,r=a-(t-n);if(e)return e[0]=r+br,e[1]=t,e;return[r+br,t]}},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(a,b){var e=a+b,t=e-a,n=a-(e-t)+(b-t);if(n)return[n,e];return[e]}(e[0],-t[0]);var a,b,g=new Array(n+r),o=0,c=0,l=0,f=Math.abs,d=e[c],v=f(d),y=-t[l],h=f(y);v<h?(b=d,(c+=1)<n&&(d=e[c],v=f(d))):(b=y,(l+=1)<r&&(y=-t[l],h=f(y)));c<n&&v<h||l>=r?(a=d,(c+=1)<n&&(d=e[c],v=f(d))):(a=y,(l+=1)<r&&(y=-t[l],h=f(y)));var m,x,w=a+b,S=w-a,A=b-S,_=A,C=w;for(;c<n&&l<r;)v<h?(a=d,(c+=1)<n&&(d=e[c],v=f(d))):(a=y,(l+=1)<r&&(y=-t[l],h=f(y))),(A=(b=_)-(S=(w=a+b)-a))&&(g[o++]=A),_=C-((m=C+w)-(x=m-C))+(w-x),C=m;for(;c<n;)(A=(b=_)-(S=(w=(a=d)+b)-a))&&(g[o++]=A),_=C-((m=C+w)-(x=m-C))+(w-x),C=m,(c+=1)<n&&(d=e[c]);for(;l<r;)(A=(b=_)-(S=(w=(a=y)+b)-a))&&(g[o++]=A),_=C-((m=C+w)-(x=m-C))+(w-x),C=m,(l+=1)<r&&(y=-t[l]);_&&(g[o++]=_);C&&(g[o++]=C);o||(g[o++]=0);return g.length=o,g}},function(e,t,n){"use strict";var r=n(290),o=n(291);function c(a,b){var e=a.length,t=a.length-b.length,n=Math.min;if(t)return t;switch(e){case 0:return 0;case 1:return a[0]-b[0];case 2:return(c=a[0]+a[1]-b[0]-b[1])||n(a[0],a[1])-n(b[0],b[1]);case 3:var r=a[0]+a[1],o=b[0]+b[1];if(c=r+a[2]-(o+b[2]))return c;var c,l=n(a[0],a[1]),f=n(b[0],b[1]);return(c=n(l,a[2])-n(f,b[2]))||n(l+a[2],r)-n(f+b[2],o);default:var d=a.slice(0);d.sort();var v=b.slice(0);v.sort();for(var i=0;i<e;++i)if(t=d[i]-v[i])return t;return 0}}function l(a,b){return c(a[0],b[0])}function f(e,t){if(t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=[e[i],t[i]];r.sort(l);for(i=0;i<n;++i)e[i]=r[i][0],t[i]=r[i][1];return e}return e.sort(c),e}function d(e){if(0===e.length)return[];for(var t=1,n=e.length,i=1;i<n;++i){var a=e[i];if(c(a,e[i-1])){if(i===t){t++;continue}e[t++]=a}}return e.length=t,e}function v(e,t){for(var n=0,r=e.length-1,o=-1;n<=r;){var l=n+r>>1,s=c(e[l],t);s<=0?(0===s&&(o=l),n=l+1):s>0&&(r=l-1)}return o}function y(e,t){for(var n=new Array(e.length),i=0,o=n.length;i<o;++i)n[i]=[];for(var b=[],l=(i=0,t.length);i<l;++i)for(var f=t[i],d=f.length,y=1,h=1<<d;y<h;++y){b.length=r.popCount(y);for(var m=0,x=0;x<d;++x)y&1<<x&&(b[m++]=f[x]);var w=v(e,b);if(!(w<0))for(;n[w++].push(i),!(w>=e.length||0!==c(e[w],b)););}return n}function h(e,t){if(t<0)return[];for(var n=[],o=(1<<t+1)-1,i=0;i<e.length;++i)for(var c=e[i],l=o;l<1<<c.length;l=r.nextCombination(l)){for(var b=new Array(t+1),d=0,v=0;v<c.length;++v)l&1<<v&&(b[d++]=c[v]);n.push(b)}return f(n)}t.dimension=function(e){for(var t=0,n=Math.max,i=0,r=e.length;i<r;++i)t=n(t,e[i].length);return t-1},t.countVertices=function(e){for(var t=-1,n=Math.max,i=0,r=e.length;i<r;++i)for(var o=e[i],c=0,l=o.length;c<l;++c)t=n(t,o[c]);return t+1},t.cloneCells=function(e){for(var t=new Array(e.length),i=0,n=e.length;i<n;++i)t[i]=e[i].slice(0);return t},t.compareCells=c,t.normalize=f,t.unique=d,t.findCell=v,t.incidence=y,t.dual=function(e,t){if(!t)return y(d(h(e,0)),e);for(var n=new Array(t),i=0;i<t;++i)n[i]=[];i=0;for(var r=e.length;i<r;++i)for(var o=e[i],c=0,l=o.length;c<l;++c)n[o[c]].push(i);return n},t.explode=function(e){for(var t=[],i=0,n=e.length;i<n;++i)for(var r=e[i],o=0|r.length,c=1,l=1<<o;c<l;++c){for(var b=[],d=0;d<o;++d)c>>>d&1&&b.push(r[d]);t.push(b)}return f(t)},t.skeleton=h,t.boundary=function(e){for(var t=[],i=0,n=e.length;i<n;++i)for(var r=e[i],o=0,c=r.length;o<c;++o){for(var b=new Array(r.length-1),l=0,d=0;l<c;++l)l!==o&&(b[d++]=r[l]);t.push(b)}return f(t)},t.connectedComponents=function(e,t){return t?function(e,t){for(var n=new o(t),i=0;i<e.length;++i)for(var r=e[i],c=0;c<r.length;++c)for(var l=c+1;l<r.length;++l)n.link(r[c],r[l]);var f=[],d=n.ranks;for(i=0;i<d.length;++i)d[i]=-1;for(i=0;i<e.length;++i){var v=n.find(e[i][0]);d[v]<0?(d[v]=f.length,f.push([e[i].slice(0)])):f[d[v]].push(e[i].slice(0))}return f}(e,t):function(e){for(var t=d(f(h(e,0))),n=new o(t.length),i=0;i<e.length;++i)for(var r=e[i],c=0;c<r.length;++c)for(var l=v(t,[r[c]]),y=c+1;y<r.length;++y)n.link(l,v(t,[r[y]]));var m=[],x=n.ranks;for(i=0;i<x.length;++i)x[i]=-1;for(i=0;i<e.length;++i){var w=n.find(v(t,[e[i][0]]));x[w]<0?(x[w]=m.length,m.push([e[i].slice(0)])):m[x[w]].push(e[i].slice(0))}return m}(e)}},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var mask=e>>31;return(e^mask)-mask},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var o=new Array(256);!function(e){for(var i=0;i<256;++i){var t=i,n=i,s=7;for(t>>>=1;t;t>>>=1)n<<=1,n|=1&t,--s;e[i]=n<<s&255}}(o),t.reverse=function(e){return o[255&e]<<24|o[e>>>8&255]<<16|o[e>>>16&255]<<8|o[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var i=0;i<e;++i)this.roots[i]=i,this.ranks[i]=0}e.exports=r;var o=r.prototype;Object.defineProperty(o,"length",{get:function(){return this.roots.length}}),o.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},o.find=function(e){for(var t=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[t]!==e;){var r=n[t];n[t]=e,t=r}return e},o.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var o=this.ranks,c=this.roots,l=o[n],f=o[r];l<f?c[n]=r:f<l?c[r]=n:(c[r]=n,++o[n])}}},function(e,t,n){"use strict";var r=n(293),o=n(294);function c(a,b){for(var s=0,e=a.length,i=0;i<e;++i)s+=a[i]*b[i];return s}function l(e){var t=e.length;if(0===t)return[];e[0].length;var n=r([e.length+1,e.length+1],1),b=r([e.length+1],1);n[t][t]=0;for(var i=0;i<t;++i){for(var l=0;l<=i;++l)n[l][i]=n[i][l]=2*c(e[i],e[l]);b[i]=c(e[i],e[i])}var f=o(n,b),d=0,v=f[t+1];for(i=0;i<v.length;++i)d+=v[i];var y=new Array(t);for(i=0;i<t;++i){v=f[i];var h=0;for(l=0;l<v.length;++l)h+=v[l];y[i]=h/d}return y}function f(e){if(0===e.length)return[];for(var t=e[0].length,n=r([t]),o=l(e),i=0;i<e.length;++i)for(var c=0;c<t;++c)n[c]+=e[i][c]*o[i];return n}f.barycenetric=l,e.exports=f},function(e,t,n){"use strict";e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,i;for(n=new Array(e),i=0;i<e;++i)n[i]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,i){var r=0|t[i];if(r<=0)return[];var o,c=new Array(r);if(i===t.length-1)for(o=0;o<r;++o)c[o]=n;else for(o=0;o<r;++o)c[o]=e(t,n,i+1);return c}(e,t,0)}return[]}},function(e,t,n){"use strict";var r=n(295),o=6;function c(e){for(var t="robustLinearSolve"+e+"d",code=["function ",t,"(A,b){return ["],i=0;i<e;++i){code.push("det([");for(var n=0;n<e;++n){n>0&&code.push(","),code.push("[");for(var o=0;o<e;++o)o>0&&code.push(","),o===i?code.push("+b[",n,"]"):code.push("+A[",n,"][",o,"]");code.push("]")}code.push("]),")}code.push("det(A)]}return ",t);var c=new Function("det",code.join(""));return c(e<6?r[e]:r)}var l=[function(){return[0]},function(e,b){return[[b[0]],[e[0][0]]]}];!function(){for(;l.length<o;)l.push(c(l.length));for(var t=[],code=["function dispatchLinearSolve(A,b){switch(A.length){"],i=0;i<o;++i)t.push("s"+i),code.push("case ",i,":return s",i,"(A,b);");code.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),t.push("CACHE","g",code.join(""));var n=Function.apply(void 0,t);for(e.exports=n.apply(void 0,l.concat([l,c])),i=0;i<o;++i)e.exports[i]=l[i]}()},function(e,t,n){"use strict";var r=n(162),o=n(185),c=n(186),l=n(296),f=6;function d(e,t){for(var n=new Array(e.length-1),i=1;i<e.length;++i)for(var r=n[i-1]=new Array(e.length-1),o=0,c=0;o<e.length;++o)o!==t&&(r[c++]=e[i][o]);return n}function v(e){for(var t=new Array(e),i=0;i<e;++i){t[i]=new Array(e);for(var n=0;n<e;++n)t[i][n]=["m[",i,"][",n,"]"].join("")}return t}function y(e){if(2===e.length)return["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("");for(var t=[],i=0;i<e.length;++i)t.push(["scale(",y(d(e,i)),",",(n=i,1&n?"-":""),e[0][i],")"].join(""));return function e(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var n=t.length>>1;return["sum(",e(t.slice(0,n)),",",e(t.slice(n)),")"].join("")}(t);var n}function h(e){return new Function("sum","scale","prod","compress",["function robustDeterminant",e,"(m){return compress(",y(v(e)),")};return robustDeterminant",e].join(""))(o,c,r,l)}var m=[function(){return[0]},function(e){return[e[0][0]]}];!function(){for(;m.length<f;)m.push(h(m.length));for(var t=[],code=["function robustDeterminant(m){switch(m.length){"],i=0;i<f;++i)t.push("det"+i),code.push("case ",i,":return det",i,"(m);");code.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),t.push("CACHE","gen",code.join(""));var n=Function.apply(void 0,t);for(e.exports=n.apply(void 0,m.concat([m,h])),i=0;i<m.length;++i)e.exports[i]=m[i]}()},function(e,t,n){"use strict";e.exports=function(e){for(var t=e.length,n=e[e.length-1],r=t,i=t-2;i>=0;--i){var a=n,b=e[i],o=(n=a+b)-a,q=b-o;q&&(e[--r]=n,n=q)}for(var c=0,i=r;i<t;++i){var a=e[i],b=n,o=(n=a+b)-a,q=b-o;q&&(e[c++]=q)}return e[c++]=n,e.length=c,e}},,,,,,function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return r})}])]);